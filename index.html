<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VOW å› Â· å©šç¤¼ç›´æ’­å¹³å°</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;600&family=Noto+Sans+SC:wght@300;400;500&family=Ma+Shan+Zheng&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --ivory:#faf7f2;--cream:#f3ede3;--gold:#c9a96e;--gold-light:#e8d5b0;--gold-dark:#a07840;
  --charcoal:#2c2620;--muted:#8a7d72;--red:#c0392b;--green:#27ae60;--rose:#d4a5a0;
  --purple:#7d3c98;--blue:#2471a3;
}
html{scroll-behavior:smooth}
body{font-family:'Noto Sans SC','PingFang SC','Microsoft YaHei',sans-serif;background:var(--ivory);color:var(--charcoal);min-height:100vh}

/* NAV */
.nav{position:sticky;top:0;z-index:500;background:rgba(250,247,242,.97);backdrop-filter:blur(14px);border-bottom:1px solid rgba(201,169,110,.25);height:58px;padding:0 20px;display:flex;align-items:center;justify-content:space-between}
.nav-logo{font-family:'Noto Serif SC',serif;font-size:19px;font-weight:600;color:var(--gold-dark);letter-spacing:4px;cursor:pointer;user-select:none;flex-shrink:0}
.nav-links{display:flex;gap:1px;flex-wrap:wrap}
.nav-btn{padding:5px 11px;font-size:12px;font-family:inherit;border:none;background:transparent;color:var(--muted);cursor:pointer;border-radius:3px;transition:all .2s;white-space:nowrap}
.nav-btn:hover{color:var(--gold-dark);background:rgba(201,169,110,.1)}
.nav-btn.active{background:var(--charcoal);color:var(--ivory)}

/* PAGES */
.page{display:none}
.page.active{display:block;animation:fadeIn .3s ease}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}

/* BUTTONS */
.btn-primary{background:var(--gold-dark);color:white;padding:11px 26px;border:none;font-size:13px;font-family:inherit;cursor:pointer;border-radius:2px;transition:all .3s}
.btn-primary:hover{background:var(--charcoal);transform:translateY(-1px);box-shadow:0 6px 18px rgba(44,38,32,.2)}
.btn-outline{background:transparent;color:var(--charcoal);padding:11px 26px;border:1px solid var(--charcoal);font-size:13px;font-family:inherit;cursor:pointer;border-radius:2px;transition:all .3s}
.btn-outline:hover{border-color:var(--gold-dark);color:var(--gold-dark)}
.btn-red{background:var(--red);color:white;padding:11px 26px;border:none;font-size:13px;font-family:inherit;cursor:pointer;border-radius:2px;transition:all .3s}
.btn-red:hover{background:#a93226}
.btn-purple{background:var(--purple);color:white;padding:11px 26px;border:none;font-size:13px;font-family:inherit;cursor:pointer;border-radius:2px;transition:all .3s}
.btn-purple:hover{background:#6c3483}
.gold-divider{height:1px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:0 24px}

/* FORM BASICS */
.form-group{display:flex;flex-direction:column;gap:6px}
.form-label{font-size:11px;letter-spacing:1.5px;color:var(--muted);text-transform:uppercase}
.form-input,.form-select,.form-textarea{background:white;border:1px solid rgba(201,169,110,.3);padding:10px 13px;font-family:inherit;font-size:14px;color:var(--charcoal);outline:none;transition:border-color .3s;border-radius:2px;-webkit-appearance:none}
.form-input:focus,.form-select:focus,.form-textarea:focus{border-color:var(--gold)}
.form-input::placeholder,.form-textarea::placeholder{color:#c5b8ac}
.form-textarea{resize:vertical;min-height:80px}
.form-row{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-bottom:14px}
.form-row.single{grid-template-columns:1fr}
.form-section{background:var(--cream);border-radius:4px;padding:24px 28px;margin-bottom:16px}
.form-section-title{font-family:'Noto Serif SC',serif;font-size:17px;color:var(--charcoal);margin-bottom:16px;padding-bottom:10px;border-bottom:1px solid rgba(201,169,110,.22)}

/* PAGE LAYOUT */
.inner-page{max-width:960px;margin:0 auto;padding:40px 24px}
.page-title{font-family:'Noto Serif SC',serif;font-size:30px;font-weight:300;color:var(--charcoal);margin-bottom:8px}
.page-title em{font-style:italic;color:var(--gold-dark)}
.page-sub{font-size:13px;color:var(--muted);margin-bottom:28px;line-height:1.8;font-weight:300}

/* SECTION TITLE */
.section-header{text-align:center;max-width:600px;margin:0 auto 40px}
.section-tag-c{font-size:10px;letter-spacing:3px;color:var(--gold);margin-bottom:10px}
.section-title-big{font-family:'Noto Serif SC',serif;font-size:28px;font-weight:300;color:var(--charcoal);line-height:1.35}
.section-title-big em{font-style:italic;color:var(--gold-dark)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   HOME
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.hero{max-width:1060px;margin:0 auto;padding:48px 24px 40px;display:grid;grid-template-columns:1fr 1fr;gap:44px;align-items:center}
.hero-tag{font-size:11px;letter-spacing:3px;color:var(--gold);margin-bottom:14px;display:flex;align-items:center;gap:10px}
.hero-tag::before{content:'';width:24px;height:1px;background:var(--gold);display:block}
.hero-title{font-family:'Noto Serif SC',serif;font-size:42px;font-weight:300;line-height:1.3;margin-bottom:18px}
.hero-title em{font-style:italic;color:var(--gold-dark)}
.hero-sub{font-size:14px;line-height:1.95;color:var(--muted);margin-bottom:28px;font-weight:300}
.hero-btns{display:flex;gap:10px;flex-wrap:wrap}
.hero-right{display:flex;justify-content:center}
.mock-phone{width:210px;height:420px;background:var(--charcoal);border-radius:34px;box-shadow:0 28px 56px rgba(44,38,32,.25),0 0 0 2px rgba(201,169,110,.3);overflow:hidden;animation:phoneFloat 5s ease-in-out infinite;position:relative}
@keyframes phoneFloat{0%,100%{transform:translateY(0) rotate(-2deg)}50%{transform:translateY(-10px) rotate(-2deg)}}
.phone-stream-area{height:340px;background:linear-gradient(180deg,#1a1410,#2c2620);position:relative;display:flex;align-items:center;justify-content:center;overflow:hidden}
.phone-glow{position:absolute;inset:0;background:radial-gradient(ellipse at center,rgba(201,169,110,.12),transparent 70%);animation:glowPulse 3s ease-in-out infinite}
@keyframes glowPulse{0%,100%{opacity:.5}50%{opacity:1}}
.phone-center-icon{font-size:40px;opacity:.45;position:relative;z-index:1}
.phone-live-badge{position:absolute;top:10px;left:10px;background:var(--red);color:white;font-size:9px;padding:3px 8px;border-radius:2px;display:flex;align-items:center;gap:4px;z-index:2}
.blink-dot{width:5px;height:5px;background:white;border-radius:50%;animation:blink 1.2s infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:.2}}
.phone-viewer{position:absolute;top:10px;right:10px;font-size:9px;color:rgba(255,255,255,.6);z-index:2}
.phone-couple-info{position:absolute;bottom:12px;left:12px;z-index:2}
.phone-couple-name{font-family:'Noto Serif SC',serif;font-size:14px;color:white;font-style:italic}
.phone-couple-sub{font-size:8px;letter-spacing:1px;color:var(--gold-light);margin-top:2px}
.phone-floating{position:absolute;right:10px;bottom:36px;z-index:2;display:flex;flex-direction:column;gap:4px}
.float-emoji{font-size:17px;animation:emojiRise 3s ease-out infinite;opacity:0}
.float-emoji:nth-child(2){animation-delay:1s}.float-emoji:nth-child(3){animation-delay:2s}
@keyframes emojiRise{0%{opacity:0;transform:translateY(0)}20%{opacity:1}100%{opacity:0;transform:translateY(-50px)}}
.phone-bottom-bar{height:80px;background:var(--charcoal);padding:12px 14px;border-top:1px solid rgba(255,255,255,.05)}
.phone-input-mock{background:rgba(255,255,255,.07);border-radius:16px;padding:7px 12px;font-size:9px;color:rgba(255,255,255,.35)}
.features-section{background:var(--cream);padding:52px 24px}
.features-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:2px;max-width:1060px;margin:0 auto}
.feature-card{background:var(--ivory);padding:28px 22px;transition:all .35s;position:relative;overflow:hidden}
.feature-card::after{content:'';position:absolute;bottom:0;left:0;width:0;height:2px;background:var(--gold);transition:width .35s}
.feature-card:hover{background:white;transform:translateY(-3px);box-shadow:0 8px 24px rgba(44,38,32,.08)}
.feature-card:hover::after{width:100%}
.feature-num{font-family:'Noto Serif SC',serif;font-size:44px;font-weight:300;color:var(--gold-light);line-height:1;margin-bottom:8px}
.feature-title{font-family:'Noto Serif SC',serif;font-size:16px;color:var(--charcoal);margin-bottom:8px}
.feature-desc{font-size:12px;line-height:1.85;color:var(--muted);font-weight:300}
.feature-badge{display:inline-block;margin-top:10px;font-size:9px;letter-spacing:2px;color:var(--gold-dark);border:1px solid var(--gold-light);padding:3px 8px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   LIVE STREAM â€” REDESIGNED THEMES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.stream-page-wrap{padding:20px 24px;max-width:1240px;margin:0 auto}
.stream-layout{display:grid;grid-template-columns:1fr 310px;gap:18px}
.stream-main{display:flex;flex-direction:column;gap:14px}

/* theme picker */
.theme-picker{background:white;border:1px solid rgba(201,169,110,.2);border-radius:6px;padding:14px 18px}
.theme-picker-title{font-size:11px;letter-spacing:2px;color:var(--muted);margin-bottom:10px;text-transform:uppercase}
.theme-options{display:flex;gap:8px;flex-wrap:wrap}
.theme-opt{padding:7px 14px;border:1px solid rgba(201,169,110,.25);background:white;font-size:12px;cursor:pointer;border-radius:3px;transition:all .25s;display:flex;align-items:center;gap:7px}
.theme-opt:hover{border-color:var(--gold)}
.theme-opt.selected{background:var(--charcoal);color:var(--ivory);border-color:var(--charcoal)}
.theme-swatch{width:14px;height:14px;border-radius:50%;flex-shrink:0;border:1px solid rgba(0,0,0,.1)}

/* VIDEO BOX */
.stream-video-box{border-radius:6px;aspect-ratio:16/9;position:relative;overflow:hidden;display:flex;align-items:center;justify-content:center}

/* â”€â”€ THEME: ä¸­å¼çº¢å–œ â”€â”€ */
.theme-chinese .stream-video-box{background:#6b0000}
.theme-chinese .stream-video-box .theme-bg{
  position:absolute;inset:0;
  background:
    radial-gradient(ellipse at 20% 20%, #a01010 0%, transparent 50%),
    radial-gradient(ellipse at 80% 80%, #8b0000 0%, transparent 50%),
    linear-gradient(135deg,#6b0000,#3d0000);
}
.theme-chinese .stream-video-box .theme-deco{position:absolute;inset:0;overflow:hidden}
/* Red lanterns */
.theme-chinese .stream-video-box .theme-deco::before{
  content:'';position:absolute;top:-10px;left:5%;width:40px;height:70px;
  background:radial-gradient(ellipse at 50% 40%,#ff6b6b,#cc0000);
  border-radius:50%;box-shadow:0 0 20px rgba(255,100,100,.4);
}
.theme-chinese .stream-video-box .theme-deco::after{
  content:'';position:absolute;top:-10px;right:5%;width:40px;height:70px;
  background:radial-gradient(ellipse at 50% 40%,#ff6b6b,#cc0000);
  border-radius:50%;box-shadow:0 0 20px rgba(255,100,100,.4);
}
.theme-chinese .stream-video-box .theme-xi{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  font-family:'Ma Shan Zheng','Noto Serif SC',serif;font-size:120px;color:rgba(255,215,0,.12);
  line-height:1;pointer-events:none;user-select:none;
  text-shadow:0 0 60px rgba(255,215,0,.1);
}
.theme-chinese .stream-video-box .theme-pattern{
  position:absolute;inset:0;
  background-image:repeating-linear-gradient(45deg,transparent,transparent 20px,rgba(255,215,0,.03) 20px,rgba(255,215,0,.03) 21px);
}
.theme-chinese .stream-video-box .theme-border{
  position:absolute;inset:8px;border:1px solid rgba(255,215,0,.15);border-radius:4px;pointer-events:none;
}
.theme-chinese .stream-video-box .theme-border::before{
  content:'â—†';position:absolute;top:-8px;left:50%;transform:translateX(-50%);
  font-size:14px;color:rgba(255,215,0,.4);background:#6b0000;padding:0 6px;
}

/* â”€â”€ THEME: ç²‰è‰²æµªæ¼« â”€â”€ */
.theme-pink .stream-video-box{background:#f8e8ec}
.theme-pink .stream-video-box .theme-bg{
  position:absolute;inset:0;
  background:
    radial-gradient(ellipse at 30% 20%,rgba(255,182,193,.8) 0%,transparent 50%),
    radial-gradient(ellipse at 70% 80%,rgba(255,105,180,.3) 0%,transparent 50%),
    linear-gradient(135deg,#fce4ec,#f8bbd0);
}
.theme-pink .stream-video-box .theme-deco{position:absolute;inset:0;overflow:hidden}
/* Floating petals via box-shadow simulation */
.theme-pink .stream-video-box .theme-deco::before{
  content:'';position:absolute;top:8%;left:10%;width:12px;height:12px;
  background:rgba(255,150,180,.6);border-radius:50% 0 50% 0;transform:rotate(45deg);
  box-shadow:
    40px 20px 0 rgba(255,180,200,.5),
    80px -10px 0 rgba(255,120,160,.4),
    120px 30px 0 rgba(255,160,190,.5),
    160px 0px 0 rgba(255,140,170,.4),
    200px 15px 0 rgba(255,180,210,.3),
    250px -5px 0 rgba(255,120,150,.5),
    300px 25px 0 rgba(255,160,180,.4),
    350px 5px 0 rgba(255,140,165,.3),
    30px 60px 0 rgba(255,170,195,.4),
    90px 55px 0 rgba(255,130,155,.5),
    150px 65px 0 rgba(255,155,180,.3);
}
.theme-pink .stream-video-box .theme-heart{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  font-size:180px;color:rgba(255,100,150,.06);line-height:1;pointer-events:none;
}
.theme-pink .stream-video-box .theme-xi{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  font-family:'Ma Shan Zheng','Noto Serif SC',serif;font-size:100px;
  color:rgba(200,50,100,.08);line-height:1;pointer-events:none;
}

/* â”€â”€ THEME: é‡‘è‰²å…¸é›… â”€â”€ */
.theme-gold .stream-video-box{background:#1a1208}
.theme-gold .stream-video-box .theme-bg{
  position:absolute;inset:0;
  background:
    radial-gradient(ellipse at 20% 30%,rgba(180,140,60,.2) 0%,transparent 50%),
    radial-gradient(ellipse at 80% 70%,rgba(160,120,40,.15) 0%,transparent 50%),
    linear-gradient(135deg,#1e1408,#2c1e08,#1a1208);
}
.theme-gold .stream-video-box .theme-deco{position:absolute;inset:0}
.theme-gold .stream-video-box .theme-deco::before{
  content:'';position:absolute;inset:0;
  background-image:
    repeating-linear-gradient(0deg,transparent,transparent 29px,rgba(201,169,110,.06) 29px,rgba(201,169,110,.06) 30px),
    repeating-linear-gradient(90deg,transparent,transparent 29px,rgba(201,169,110,.06) 29px,rgba(201,169,110,.06) 30px);
}
.theme-gold .stream-video-box .theme-border{
  position:absolute;top:10px;left:10px;right:10px;bottom:10px;
  border:1px solid rgba(201,169,110,.25);pointer-events:none;
}
.theme-gold .stream-video-box .theme-border::before{
  content:'';position:absolute;top:6px;left:6px;right:6px;bottom:6px;
  border:1px solid rgba(201,169,110,.12);
}
.theme-gold .stream-video-box .theme-corner{
  position:absolute;width:20px;height:20px;border-color:rgba(201,169,110,.5);border-style:solid;
}
.theme-gold .stream-video-box .theme-xi{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  font-family:'Ma Shan Zheng','Noto Serif SC',serif;font-size:130px;
  color:rgba(201,169,110,.07);line-height:1;pointer-events:none;
  text-shadow:0 0 40px rgba(201,169,110,.05);
}

/* â”€â”€ THEME: ç™½è‰²ç®€çº¦ â”€â”€ */
.theme-white .stream-video-box{background:#faf8f5}
.theme-white .stream-video-box .theme-bg{
  position:absolute;inset:0;
  background:
    radial-gradient(ellipse at 30% 30%,rgba(240,230,215,.8) 0%,transparent 60%),
    radial-gradient(ellipse at 70% 70%,rgba(212,195,175,.5) 0%,transparent 50%),
    linear-gradient(135deg,#faf8f5,#f0ebe2);
}
.theme-white .stream-video-box .theme-deco{position:absolute;inset:0;overflow:hidden}
/* subtle leaf/floral pattern */
.theme-white .stream-video-box .theme-deco::before{
  content:'';position:absolute;top:10%;right:8%;width:60px;height:60px;
  border:1px solid rgba(180,155,120,.2);border-radius:50%;
  box-shadow:0 0 0 12px rgba(180,155,120,.07),0 0 0 24px rgba(180,155,120,.04);
}
.theme-white .stream-video-box .theme-deco::after{
  content:'';position:absolute;bottom:12%;left:8%;width:50px;height:50px;
  border:1px solid rgba(180,155,120,.2);border-radius:50%;
  box-shadow:0 0 0 10px rgba(180,155,120,.07),0 0 0 20px rgba(180,155,120,.04);
}
.theme-white .stream-video-box .theme-xi{
  position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  font-family:'Ma Shan Zheng','Noto Serif SC',serif;font-size:130px;
  color:rgba(150,120,80,.07);line-height:1;pointer-events:none;
}

/* stream waiting */
.stream-waiting{text-align:center;position:relative;z-index:5;padding:16px}
.stream-waiting-icon{font-size:44px;margin-bottom:10px;opacity:.5}
.stream-waiting-text{font-family:'Noto Serif SC',serif;font-size:17px;font-style:italic;margin-bottom:5px;opacity:.7}
.theme-chinese .stream-waiting-text,.theme-gold .stream-waiting-text{color:rgba(255,255,255,.7)}
.theme-pink .stream-waiting-text,.theme-white .stream-waiting-text{color:rgba(100,60,80,.6)}
.stream-waiting-sub{font-size:11px;letter-spacing:1.5px;opacity:.4}
.theme-chinese .stream-waiting-sub,.theme-gold .stream-waiting-sub{color:rgba(255,255,255,.7)}

/* controls */
.stream-bar{position:absolute;bottom:0;left:0;right:0;padding:14px 16px;background:linear-gradient(transparent,rgba(0,0,0,.6));display:flex;align-items:center;gap:7px;z-index:6}
.ctrl-btn{background:rgba(255,255,255,.12);border:1px solid rgba(255,255,255,.18);color:white;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:12px;transition:all .25s;flex-shrink:0}
.ctrl-btn:hover{background:rgba(255,255,255,.25)}
.go-live-btn{margin-left:auto;background:var(--red)!important;border-color:var(--red)!important;width:auto!important;border-radius:3px!important;padding:0 14px;font-size:10px;letter-spacing:1.5px;font-family:inherit;height:32px}
.go-live-btn:hover{background:#a93226!important;transform:none!important}
.live-indicator{display:flex;align-items:center;gap:5px;font-size:11px;color:rgba(255,255,255,.7)}
.live-indicator .dot{width:7px;height:7px;border-radius:50%;background:var(--red);animation:blink 1.2s infinite}
.cam-notice{background:rgba(201,169,110,.1);border:1px solid rgba(201,169,110,.3);border-radius:4px;padding:10px 14px;display:flex;align-items:center;gap:8px;font-size:12px;color:var(--charcoal)}

/* rehearsal */
.rehearsal-box{background:linear-gradient(135deg,var(--charcoal),#3a2e28);border-radius:4px;padding:16px 20px;border:1px solid rgba(201,169,110,.2);display:flex;justify-content:space-between;align-items:center;gap:12px}
.rehearsal-title{font-family:'Noto Serif SC',serif;font-size:14px;color:var(--ivory);margin-bottom:3px}
.rehearsal-desc{font-size:11px;color:rgba(250,247,242,.5);line-height:1.6;font-weight:300;max-width:480px}
.rehearsal-status{display:flex;align-items:center;gap:5px;font-size:11px;color:#68d391;white-space:nowrap;font-weight:500;flex-shrink:0}
.status-dot-green{width:7px;height:7px;border-radius:50%;background:#68d391;flex-shrink:0}

/* sidebar */
.stream-sidebar{display:flex;flex-direction:column;gap:12px}
.sidebar-card{background:var(--cream);border-radius:4px;padding:14px 16px}
.sidebar-card-title{font-family:'Noto Serif SC',serif;font-size:14px;color:var(--charcoal);margin-bottom:11px;padding-bottom:8px;border-bottom:1px solid rgba(201,169,110,.2)}
.chat-msgs{max-height:150px;overflow-y:auto;display:flex;flex-direction:column;gap:6px;margin-bottom:10px;scrollbar-width:thin;scrollbar-color:var(--gold-light) transparent}
.chat-msg-item{font-size:12px;line-height:1.55;color:var(--charcoal)}
.chat-msg-item strong{color:var(--gold-dark);font-weight:500}
.chat-msg-item.gift-msg strong{color:var(--red)}
.chat-input-row{display:flex;gap:6px}
.chat-input{flex:1;background:white;border:1px solid rgba(201,169,110,.3);padding:7px 10px;font-size:12px;font-family:inherit;outline:none;color:var(--charcoal);border-radius:2px;transition:border-color .25s}
.chat-input:focus{border-color:var(--gold)}
.chat-send{background:var(--gold-dark);color:white;border:none;padding:7px 12px;font-size:12px;cursor:pointer;border-radius:2px;font-family:inherit;transition:background .25s}
.chat-send:hover{background:var(--charcoal)}
.reactions-grid{display:flex;flex-wrap:wrap;gap:6px}
.reaction-btn{background:white;border:1px solid rgba(201,169,110,.25);padding:5px 8px;font-size:16px;cursor:pointer;border-radius:2px;transition:all .2s}
.reaction-btn:hover{background:var(--gold-light);transform:scale(1.2)}
.viewers-list{font-size:11px;color:var(--muted);line-height:2}
.viewers-more{margin-top:4px;font-size:10px;letter-spacing:1px;color:var(--gold-dark);font-weight:500}
.float-reaction{position:fixed;font-size:26px;pointer-events:none;z-index:9999;animation:floatUp 1.6s ease-out forwards}
@keyframes floatUp{0%{opacity:1;transform:translateY(0) scale(1)}100%{opacity:0;transform:translateY(-110px) scale(1.3)}}

/* overlay elements */
.vid-overlay-badge{display:none;position:absolute;top:12px;left:12px;z-index:6;background:var(--red);color:white;font-size:10px;padding:3px 9px;border-radius:2px;align-items:center;gap:4px}
.vid-overlay-couple{display:none;position:absolute;bottom:50px;left:12px;z-index:6;background:rgba(0,0,0,.4);backdrop-filter:blur(4px);padding:7px 12px;border-radius:3px}
.vid-overlay-viewers{display:none;position:absolute;top:12px;right:12px;z-index:6;background:rgba(0,0,0,.35);backdrop-filter:blur(4px);padding:3px 9px;border-radius:2px;font-size:10px;color:rgba(255,255,255,.8)}
#camera-video{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;display:none;z-index:4;border-radius:6px;transform:scaleX(-1)}
#cam-error{display:none;position:relative;z-index:5;text-align:center;padding:16px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   GIFT PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.packets-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:28px}
.packet-card{background:linear-gradient(145deg,#c0392b,#7b241c);border-radius:10px;padding:18px 12px;text-align:center;cursor:pointer;transition:all .3s;position:relative;overflow:hidden;box-shadow:0 5px 18px rgba(192,57,43,.25);border:2px solid transparent}
.packet-card::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 30% 20%,rgba(255,255,255,.1),transparent 60%);pointer-events:none}
.packet-card:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 10px 24px rgba(192,57,43,.4)}
.packet-card.selected{border-color:var(--gold);box-shadow:0 0 0 3px rgba(201,169,110,.25)}
.packet-emoji{font-size:26px;margin-bottom:5px;position:relative;z-index:1}
.packet-name{font-family:'Noto Serif SC',serif;font-size:13px;color:rgba(255,255,255,.95);margin-bottom:3px;position:relative;z-index:1}
.packet-amount{font-size:18px;font-weight:600;color:#ffd700;position:relative;z-index:1;font-family:'Noto Serif SC',serif}
.packet-amount span{font-size:11px;font-weight:300;color:rgba(255,215,0,.7)}
.packet-blessing{font-size:9px;color:rgba(255,255,255,.5);margin-top:2px;position:relative;z-index:1}
.custom-section{background:var(--cream);border-radius:4px;padding:22px 26px;margin-bottom:24px}
.custom-title{font-family:'Noto Serif SC',serif;font-size:17px;color:var(--charcoal);margin-bottom:14px}
.gift-summary{background:linear-gradient(135deg,#922b21,#6b0000);border-radius:4px;padding:20px 24px;display:flex;justify-content:space-between;align-items:center;gap:14px;border:1px solid rgba(255,215,0,.15)}
.gift-summary-title{font-family:'Noto Serif SC',serif;font-size:17px;color:rgba(255,255,255,.9);margin-bottom:3px}
.gift-summary-amount{font-size:30px;font-weight:600;color:#ffd700;font-family:'Noto Serif SC',serif}
.gift-summary-name{font-size:11px;color:rgba(255,255,255,.45);margin-top:3px}
.send-gift-btn{background:linear-gradient(135deg,#f5c518,#c9a000);color:#6b0000;border:none;padding:12px 28px;font-size:14px;font-weight:600;font-family:'Noto Serif SC',serif;cursor:pointer;border-radius:3px;transition:all .3s;flex-shrink:0;box-shadow:0 4px 12px rgba(245,197,24,.35)}
.send-gift-btn:hover{transform:scale(1.04)}
.gift-history{margin-top:28px}
.history-title{font-family:'Noto Serif SC',serif;font-size:17px;color:var(--charcoal);margin-bottom:14px}
.gift-item{background:var(--cream);border-radius:4px;padding:12px 16px;display:flex;justify-content:space-between;align-items:center;margin-bottom:7px;transition:background .25s}
.gift-item:hover{background:white}
.gift-item-left{display:flex;align-items:center;gap:10px}
.gift-item-emoji{font-size:22px}
.gift-item-sender{font-size:13px;font-weight:500;color:var(--charcoal)}
.gift-item-name{font-size:10px;color:var(--muted);margin-top:1px}
.gift-item-amount{font-family:'Noto Serif SC',serif;font-size:18px;color:var(--red);font-weight:600}
.gift-item-time{font-size:10px;color:var(--muted);margin-top:1px;text-align:right}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   MESSAGES PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.msg-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:10px;margin-bottom:22px}
.msg-stat{background:var(--cream);border-radius:4px;padding:14px;text-align:center}
.msg-stat-val{font-family:'Noto Serif SC',serif;font-size:26px;font-weight:300;color:var(--charcoal)}
.msg-stat-val.red{color:var(--red)}.msg-stat-val.gold{color:var(--gold-dark)}
.msg-stat-label{font-size:10px;letter-spacing:1.5px;color:var(--muted);margin-top:3px;text-transform:uppercase}
.couple-view-banner{background:linear-gradient(135deg,var(--charcoal),#3a2e28);border-radius:4px;padding:16px 20px;margin-bottom:20px;display:flex;align-items:center;gap:12px;border:1px solid rgba(201,169,110,.2)}
.filter-tabs{display:flex;gap:3px;margin-bottom:18px;background:var(--cream);border-radius:4px;padding:3px}
.filter-tab{flex:1;padding:7px;font-size:12px;font-family:inherit;border:none;background:transparent;cursor:pointer;border-radius:3px;color:var(--muted);transition:all .25s}
.filter-tab.active{background:white;color:var(--charcoal);box-shadow:0 1px 4px rgba(44,38,32,.08);font-weight:500}
.messages-wall{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
.message-card{background:white;border-radius:5px;padding:16px 18px;border:1px solid rgba(201,169,110,.12);transition:all .3s;position:relative;overflow:hidden}
.message-card::before{content:'';position:absolute;top:0;left:0;width:3px;height:100%;background:var(--gold)}
.message-card:hover{box-shadow:0 5px 18px rgba(44,38,32,.07);transform:translateY(-2px)}
.message-card.from-family::before{background:var(--red)}
.message-card.from-friend::before{background:#3498db}
.message-card.from-colleague::before{background:var(--green)}
.msg-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}
.msg-sender-name{font-weight:500;font-size:13px;color:var(--charcoal)}
.msg-relation{font-size:10px;color:var(--muted);margin-top:1px}
.msg-text{font-size:12px;line-height:1.8;color:var(--charcoal);margin-bottom:8px;font-weight:300}
.msg-footer{display:flex;justify-content:space-between;align-items:center}
.msg-time{font-size:10px;color:var(--muted)}
.msg-heart-btn{background:none;border:none;cursor:pointer;font-size:13px;padding:2px 5px;border-radius:10px;transition:all .2s;color:var(--muted)}
.msg-heart-btn:hover,.msg-heart-btn.liked{color:var(--red);transform:scale(1.2)}
.msg-heart-count{font-size:10px;color:var(--muted)}
.mood-picker{display:flex;gap:6px;flex-wrap:wrap}
.mood-btn{background:white;border:1px solid rgba(201,169,110,.25);padding:6px 10px;font-size:15px;cursor:pointer;border-radius:18px;transition:all .2s;font-family:inherit}
.mood-btn:hover,.mood-btn.selected{background:var(--gold-light);border-color:var(--gold)}
.char-count{font-size:11px;color:var(--muted);text-align:right;margin-top:3px}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   AI VIRTUAL WEDDING PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.ai-page{max-width:960px;margin:0 auto;padding:40px 24px}
.ai-hero{background:linear-gradient(135deg,#1a0533,#3d1070,#1a0533);border-radius:10px;padding:44px 40px;margin-bottom:32px;text-align:center;position:relative;overflow:hidden}
.ai-hero::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 40% 40%,rgba(180,100,255,.2),transparent 60%),radial-gradient(ellipse at 70% 70%,rgba(100,50,200,.15),transparent 50%)}
.ai-hero-stars{position:absolute;inset:0;background-image:radial-gradient(1px 1px at 20% 30%,white,transparent),radial-gradient(1px 1px at 40% 70%,white,transparent),radial-gradient(1px 1px at 60% 20%,white,transparent),radial-gradient(1px 1px at 80% 60%,white,transparent),radial-gradient(1px 1px at 15% 60%,rgba(255,255,255,.5),transparent),radial-gradient(1px 1px at 55% 45%,rgba(255,255,255,.5),transparent),radial-gradient(1px 1px at 90% 35%,rgba(255,255,255,.5),transparent);opacity:.6}
.ai-hero-title{font-family:'Noto Serif SC',serif;font-size:34px;font-weight:300;color:white;margin-bottom:10px;position:relative;z-index:1}
.ai-hero-title em{font-style:italic;color:#c4a0ff}
.ai-hero-sub{font-size:14px;color:rgba(255,255,255,.6);line-height:1.8;position:relative;z-index:1;max-width:500px;margin:0 auto 24px}
.ai-warning{background:rgba(255,200,0,.1);border:1px solid rgba(255,200,0,.3);border-radius:4px;padding:10px 16px;font-size:12px;color:rgba(255,220,100,.8);position:relative;z-index:1;text-align:left;line-height:1.7}

/* Steps */
.ai-steps{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:28px}
.ai-step{background:white;border-radius:6px;padding:20px 18px;border:1px solid rgba(125,60,152,.1);text-align:center;transition:all .3s}
.ai-step:hover{box-shadow:0 6px 20px rgba(125,60,152,.1);border-color:rgba(125,60,152,.25)}
.ai-step-num{width:32px;height:32px;border-radius:50%;background:linear-gradient(135deg,#7d3c98,#3d1070);color:white;font-size:13px;font-weight:600;display:flex;align-items:center;justify-content:center;margin:0 auto 10px}
.ai-step-title{font-family:'Noto Serif SC',serif;font-size:15px;color:var(--charcoal);margin-bottom:5px}
.ai-step-desc{font-size:12px;color:var(--muted);line-height:1.7}

/* Upload zone */
.upload-zone{border:2px dashed rgba(125,60,152,.3);border-radius:6px;padding:32px;text-align:center;cursor:pointer;transition:all .3s;background:rgba(125,60,152,.02)}
.upload-zone:hover{border-color:var(--purple);background:rgba(125,60,152,.05)}
.upload-zone-icon{font-size:40px;margin-bottom:10px;opacity:.5}
.upload-zone-text{font-size:13px;color:var(--muted);line-height:1.7}
.upload-zone-btn{display:inline-block;margin-top:12px;background:var(--purple);color:white;padding:8px 20px;border-radius:2px;font-size:13px;font-family:inherit;border:none;cursor:pointer}

/* AI Result area */
.ai-result{background:linear-gradient(135deg,#1a0533,#2d0a55);border-radius:8px;padding:28px;display:none}
.ai-result.show{display:block;animation:fadeIn .5s ease}
.ai-couple-display{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:24px}
.ai-avatar{text-align:center}
.ai-avatar-circle{width:100px;height:100px;border-radius:50%;margin:0 auto 12px;position:relative;overflow:hidden;border:3px solid rgba(196,160,255,.4)}
.ai-avatar-circle.idol{background:linear-gradient(135deg,#8e44ad,#3d1070)}
.ai-avatar-circle.you{background:linear-gradient(135deg,#c0392b,#7b241c)}
.ai-avatar-circle img{width:100%;height:100%;object-fit:cover}
.ai-avatar-name{font-family:'Noto Serif SC',serif;font-size:16px;color:white;font-style:italic}
.ai-avatar-tag{font-size:10px;color:rgba(196,160,255,.6);margin-top:3px;letter-spacing:1px}
.ai-connect-line{display:flex;align-items:center;justify-content:center;position:relative}
.ai-connect-line::before{content:'ğŸ’';font-size:28px}
.ai-dialog-area{margin-top:8px}
.ai-dialog-title{font-family:'Noto Serif SC',serif;font-size:16px;color:rgba(255,255,255,.8);margin-bottom:14px;padding-bottom:8px;border-bottom:1px solid rgba(255,255,255,.08)}
.ai-messages{display:flex;flex-direction:column;gap:10px;max-height:220px;overflow-y:auto;margin-bottom:14px;scrollbar-width:thin;scrollbar-color:rgba(196,160,255,.3) transparent}
.ai-msg{max-width:75%;padding:9px 13px;border-radius:12px;font-size:13px;line-height:1.6}
.ai-msg.idol{background:rgba(125,60,152,.4);color:rgba(255,255,255,.9);align-self:flex-start;border-bottom-left-radius:2px}
.ai-msg.you{background:rgba(192,57,43,.4);color:rgba(255,255,255,.9);align-self:flex-end;border-bottom-right-radius:2px}
.ai-msg-name{font-size:10px;color:rgba(255,255,255,.4);margin-bottom:3px}
.ai-input-row{display:flex;gap:8px}
.ai-input{flex:1;background:rgba(255,255,255,.08);border:1px solid rgba(196,160,255,.2);padding:9px 12px;font-family:inherit;font-size:13px;color:white;outline:none;border-radius:3px;transition:border-color .25s}
.ai-input::placeholder{color:rgba(255,255,255,.3)}
.ai-input:focus{border-color:rgba(196,160,255,.5)}
.ai-send-btn{background:linear-gradient(135deg,#7d3c98,#5b2c6f);color:white;border:none;padding:9px 16px;font-size:12px;cursor:pointer;border-radius:3px;font-family:inherit;transition:all .25s;white-space:nowrap}
.ai-send-btn:hover{background:linear-gradient(135deg,#9b59b6,#7d3c98)}
.ai-loading{display:flex;align-items:center;gap:6px;font-size:12px;color:rgba(196,160,255,.6);padding:6px 0}
.ai-dot{width:6px;height:6px;border-radius:50%;background:rgba(196,160,255,.6);animation:aiDot .8s ease-in-out infinite}
.ai-dot:nth-child(2){animation-delay:.15s}.ai-dot:nth-child(3){animation-delay:.3s}
@keyframes aiDot{0%,100%{opacity:.3;transform:scale(.8)}50%{opacity:1;transform:scale(1.2)}}

/* Invitation */
.ai-invite-btn{background:linear-gradient(135deg,#c9a96e,#a07840);color:white;border:none;padding:10px 22px;font-size:13px;font-family:inherit;cursor:pointer;border-radius:2px;margin-top:16px;width:100%;transition:all .3s}
.ai-invite-btn:hover{background:linear-gradient(135deg,#a07840,#7a5c30)}

/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   PERIPHERALS PAGE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.peripherals-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin-bottom:32px}
.peripheral-card{background:white;border-radius:8px;padding:24px 20px;border:1px solid rgba(201,169,110,.15);cursor:pointer;transition:all .3s;text-align:center}
.peripheral-card:hover{box-shadow:0 8px 24px rgba(44,38,32,.1);transform:translateY(-3px);border-color:var(--gold)}
.peripheral-icon{font-size:36px;margin-bottom:10px}
.peripheral-title{font-family:'Noto Serif SC',serif;font-size:16px;color:var(--charcoal);margin-bottom:6px}
.peripheral-desc{font-size:12px;color:var(--muted);line-height:1.7}
.peripheral-badge{display:inline-block;margin-top:10px;font-size:9px;letter-spacing:1.5px;color:var(--gold-dark);border:1px solid var(--gold-light);padding:2px 8px}

/* Photo booth */
.photobooth-area{background:var(--charcoal);border-radius:8px;overflow:hidden;margin-bottom:16px}
.photobooth-header{padding:14px 20px;background:rgba(255,255,255,.05);display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(255,255,255,.06)}
.photobooth-title{font-family:'Noto Serif SC',serif;font-size:16px;color:var(--ivory)}
.photobooth-body{padding:20px}
.photobooth-frames{display:grid;grid-template-columns:repeat(2,1fr);gap:3px;margin-bottom:14px}
.photobooth-frame{aspect-ratio:3/4;background:rgba(255,255,255,.06);border-radius:2px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;cursor:pointer;transition:all .3s}
.photobooth-frame:hover{background:rgba(255,255,255,.1)}
.frame-placeholder{text-align:center;color:rgba(255,255,255,.3)}
.frame-placeholder-icon{font-size:28px;margin-bottom:4px}
.frame-placeholder-text{font-size:10px;letter-spacing:1px}
.photobooth-frame img{width:100%;height:100%;object-fit:cover}
.frame-overlay{position:absolute;inset:0;display:flex;align-items:flex-end;padding:8px;background:linear-gradient(transparent,rgba(0,0,0,.4));opacity:0;transition:opacity .3s}
.photobooth-frame:hover .frame-overlay{opacity:1}
.frame-num{font-family:'Noto Serif SC',serif;font-size:20px;color:var(--gold-light);font-style:italic}

/* Invitation preview */
.invite-preview{background:linear-gradient(135deg,#fdf6e3,#f5e6c8);border-radius:8px;padding:32px;text-align:center;position:relative;overflow:hidden;border:1px solid rgba(201,169,110,.3)}
.invite-preview::before{content:'';position:absolute;inset:0;background:radial-gradient(ellipse at 30% 30%,rgba(201,169,110,.15),transparent 50%),radial-gradient(ellipse at 70% 70%,rgba(201,169,110,.1),transparent 50%)}
.invite-corner{position:absolute;width:60px;height:60px;border-color:rgba(160,120,64,.3);border-style:solid}
.invite-corner.tl{top:12px;left:12px;border-width:2px 0 0 2px}
.invite-corner.tr{top:12px;right:12px;border-width:2px 2px 0 0}
.invite-corner.bl{bottom:12px;left:12px;border-width:0 0 2px 2px}
.invite-corner.br{bottom:12px;right:12px;border-width:0 2px 2px 0}
.invite-xi{font-family:'Ma Shan Zheng','Noto Serif SC',serif;font-size:48px;color:var(--red);line-height:1;margin-bottom:8px;position:relative;z-index:1}
.invite-names{font-family:'Ma Shan Zheng','Noto Serif SC',serif;font-size:28px;color:var(--charcoal);margin-bottom:6px;position:relative;z-index:1}
.invite-date{font-size:13px;color:var(--muted);letter-spacing:2px;margin-bottom:4px;position:relative;z-index:1}
.invite-venue{font-size:12px;color:var(--muted);position:relative;z-index:1}
.invite-divider{width:60px;height:1px;background:var(--gold);margin:12px auto;position:relative;z-index:1}
.invite-slogan{font-family:'Noto Serif SC',serif;font-size:14px;font-style:italic;color:var(--gold-dark);position:relative;z-index:1}

/* Certificate */
.cert-preview{background:linear-gradient(135deg,#fff9f0,#fef3e2);border-radius:8px;padding:28px;text-align:center;border:3px double rgba(201,169,110,.4);position:relative;overflow:hidden}
.cert-preview::before{content:'';position:absolute;inset:6px;border:1px solid rgba(201,169,110,.2);pointer-events:none}
.cert-title{font-family:'Ma Shan Zheng','Noto Serif SC',serif;font-size:32px;color:var(--red);margin-bottom:8px;letter-spacing:6px}
.cert-seal{width:64px;height:64px;border-radius:50%;border:3px solid var(--red);display:flex;align-items:center;justify-content:center;margin:12px auto;font-family:'Ma Shan Zheng',serif;font-size:22px;color:var(--red)}
.cert-text{font-size:13px;color:var(--charcoal);line-height:2;letter-spacing:1px}

/* Countdown */
.countdown-display{background:var(--charcoal);border-radius:8px;padding:28px;text-align:center}
.countdown-label{font-size:11px;letter-spacing:3px;color:var(--gold);margin-bottom:16px;text-transform:uppercase}
.countdown-nums{display:flex;justify-content:center;gap:12px}
.countdown-unit{text-align:center}
.countdown-val{font-family:'Noto Serif SC',serif;font-size:44px;font-weight:300;color:var(--ivory);line-height:1;background:rgba(255,255,255,.06);padding:10px 16px;border-radius:4px;min-width:60px;display:block}
.countdown-unit-label{font-size:10px;color:var(--muted);margin-top:5px;letter-spacing:1px}
.countdown-sep{font-size:32px;color:var(--gold-light);line-height:1;padding-top:10px;opacity:.6}

/* QR placeholder */
.qr-box{background:var(--cream);border-radius:8px;padding:24px;text-align:center;border:1px solid rgba(201,169,110,.2)}
.qr-placeholder{width:120px;height:120px;background:white;border:1px solid rgba(201,169,110,.3);border-radius:4px;margin:0 auto 12px;display:flex;align-items:center;justify-content:center;font-size:11px;color:var(--muted);flex-direction:column;gap:6px}
.qr-url{font-size:11px;color:var(--gold-dark);word-break:break-all;font-family:monospace}

/* MODAL */
.modal-overlay{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:800;align-items:center;justify-content:center;padding:20px}
.modal-overlay.show{display:flex;animation:fadeIn .2s ease}
.modal{background:white;border-radius:8px;padding:28px;max-width:600px;width:100%;max-height:85vh;overflow-y:auto;position:relative}
.modal-close{position:absolute;top:14px;right:14px;background:none;border:none;font-size:20px;cursor:pointer;color:var(--muted);line-height:1}
.modal-title{font-family:'Noto Serif SC',serif;font-size:22px;color:var(--charcoal);margin-bottom:6px}
.modal-sub{font-size:13px;color:var(--muted);margin-bottom:20px;line-height:1.7}

/* RESPONSIVE */
@media(max-width:900px){
  .hero{grid-template-columns:1fr}.hero-right{display:none}
  .features-grid,.ai-steps,.peripherals-grid{grid-template-columns:1fr 1fr}
  .stream-layout{grid-template-columns:1fr}
  .packets-grid{grid-template-columns:repeat(2,1fr)}
  .messages-wall,.ai-couple-display{grid-template-columns:1fr}
  .form-row{grid-template-columns:1fr}
  .msg-stats{grid-template-columns:repeat(2,1fr)}
}
@media(max-width:600px){
  .nav{padding:0 12px}.nav-logo{font-size:15px;letter-spacing:2px}
  .nav-btn{padding:4px 8px;font-size:11px}
  .hero,.ai-page,.inner-page{padding-left:14px;padding-right:14px}
  .stream-page-wrap{padding:12px 14px}
  .gold-divider{margin:0 14px}
  .features-grid,.ai-steps,.peripherals-grid{grid-template-columns:1fr}
  .packets-grid{grid-template-columns:1fr 1fr;gap:8px}
}
</style>
</head>
<body>

<!-- NAV -->
<nav class="nav">
  <div class="nav-logo" onclick="showPage('home')">å› VOW</div>
  <div class="nav-links">
    <button class="nav-btn active" onclick="showPage('home')">é¦–é¡µ</button>
    <button class="nav-btn" onclick="showPage('stream')">ç›´æ’­é—´</button>
    <button class="nav-btn" onclick="showPage('gift')">é€ç¤¼ ğŸ§§</button>
    <button class="nav-btn" onclick="showPage('messages')">ç¥ç¦å¢™ ğŸ’Œ</button>
    <button class="nav-btn" onclick="showPage('ai')" style="color:#9b59b6">AIå©šç¤¼ âœ¨</button>
    <button class="nav-btn" onclick="showPage('peripherals')">å©šç¤¼å‘¨è¾¹</button>
  </div>
</nav>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• HOME â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-home" class="page active">
  <div class="hero">
    <div>
      <div class="hero-tag">å©šç¤¼ç›´æ’­å¹³å°</div>
      <h1 class="hero-title">ä½ çš„èª“è¨€ï¼Œ<br/>è®©æ‰€æœ‰äºº<em>è§è¯</em>ã€‚</h1>
      <p class="hero-sub">ç¨³å®šç›´æ’­ Â· é€ç¤¼äº’åŠ¨ Â· ç¥ç¦ç•™è¨€ Â· AIè™šæ‹Ÿå©šç¤¼ Â· å©šç¤¼å‘¨è¾¹å®šåˆ¶<br/>æ— è®ºèº«åœ¨ä½•å¤„ï¼Œéƒ½åƒäº²ä¸´ç°åœºã€‚</p>
      <div class="hero-btns">
        <button class="btn-primary" onclick="showPage('stream')">è¿›å…¥ç›´æ’­é—´</button>
        <button class="btn-purple" onclick="showPage('ai')">âœ¨ AIè™šæ‹Ÿå©šç¤¼</button>
        <button class="btn-outline" onclick="showPage('peripherals')">å©šç¤¼å‘¨è¾¹</button>
      </div>
    </div>
    <div class="hero-right">
      <div class="mock-phone">
        <div class="phone-stream-area">
          <div class="phone-glow"></div>
          <div class="phone-live-badge"><div class="blink-dot"></div>ç›´æ’­ä¸­</div>
          <div class="phone-viewer">ğŸ‘ 247 äººè§‚çœ‹</div>
          <div class="phone-center-icon">ğŸ’</div>
          <div class="phone-couple-info">
            <div class="phone-couple-name">æå©· &amp; ç‹ç£Š</div>
            <div class="phone-couple-sub">6æœˆ14æ—¥ Â· èŠ±å›­å©šç¤¼</div>
          </div>
          <div class="phone-floating">
            <div class="float-emoji">â¤ï¸</div>
            <div class="float-emoji">ğŸ§§</div>
            <div class="float-emoji">ğŸ’</div>
          </div>
        </div>
        <div class="phone-bottom-bar">
          <div class="phone-input-mock">é€ä¸Šç¥ç¦...</div>
        </div>
      </div>
    </div>
  </div>
  <div class="gold-divider"></div>
  <div class="features-section">
    <div class="section-header">
      <div class="section-tag-c">æ ¸å¿ƒåŠŸèƒ½</div>
      <div class="section-title-big">ä¸º<em>æœ€é‡è¦çš„ä¸€å¤©</em>è€Œç”Ÿ</div>
    </div>
    <div class="features-grid">
      <div class="feature-card"><div class="feature-num">01</div><div class="feature-title">ç¨³å®šç›´æ’­ + ä¸»é¢˜è£…é¥°</div><div class="feature-desc">è‡ªé€‚åº”ç”»è´¨ï¼Œå½©æ’å¤‡ä»½ï¼Œå››ç§ç²¾å¿ƒè®¾è®¡çš„ç›´æ’­ä¸»é¢˜ï¼Œè®©è¿œç«¯å®¾å®¢èº«ä¸´å…¶å¢ƒã€‚</div><div class="feature-badge">å®æ—¶ç›´æ’­</div></div>
      <div class="feature-card"><div class="feature-num">02</div><div class="feature-title">çº¿ä¸Šé€ç¤¼ Â· è¿˜æƒ…çº¢åŒ…</div><div class="feature-desc">ç²¾é€‰å‰åˆ©é‡‘é¢ç¤¼åŒ…ï¼Œåå­—æœ‰è¶£åˆåº”æ™¯ï¼Œæ”¯æŒè‡ªå®šä¹‰é‡‘é¢ä¸ç¥ç¦è¯­ï¼Œå®Œç¾è¿˜æƒ…ã€‚</div><div class="feature-badge">æ–‡åŒ–åˆ›æ–°</div></div>
      <div class="feature-card"><div class="feature-num">03</div><div class="feature-title">ç¥ç¦ç•™è¨€å¢™</div><div class="feature-desc">å®¾å®¢ç•™ä¸‹æ–‡å­—ç¥ç¦ï¼Œæ–°äººå©šåäº²è‡ªå›çœ‹ï¼Œæ¯ä¸€æ¡éƒ½æ˜¯ä¸€ä»½çè´µè®°å¿†ã€‚</div><div class="feature-badge">æ°¸ä¹…ç•™å­˜</div></div>
      <div class="feature-card"><div class="feature-num">04</div><div class="feature-title">AI è™šæ‹Ÿå©šç¤¼ âœ¨</div><div class="feature-desc">ä¸Šä¼ å¶åƒç…§ç‰‡ï¼ŒAI ç”Ÿæˆè™šæ‹Ÿæ–°éƒ/æ–°å¨˜ï¼Œè¿›è¡ŒçœŸå®å©šç¤¼å¯¹è¯ï¼Œåˆ¶ä½œä¸“å±è¯·æŸ¬ã€‚</div><div class="feature-badge">å…¨çƒé¦–åˆ›</div></div>
      <div class="feature-card"><div class="feature-num">05</div><div class="feature-title">å©šç¤¼å‘¨è¾¹å®šåˆ¶</div><div class="feature-desc">äººç”Ÿå››æ ¼æ‹æ‘„ã€ç”µå­è¯·æŸ¬ã€ç»“å©šè¯ä¹¦ã€å©šç¤¼å€’è®¡æ—¶ã€å®¾å®¢ç­¾åˆ°å¢™ï¼Œä¸€ç«™å¼æœåŠ¡ã€‚</div><div class="feature-badge">å‘¨è¾¹å®šåˆ¶</div></div>
      <div class="feature-card"><div class="feature-num">06</div><div class="feature-title">é›¶é—¨æ§›å‚ä¸</div><div class="feature-desc">å®¾å®¢ç›´æ¥åœ¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€é“¾æ¥å³å¯è§‚çœ‹ï¼Œæ— éœ€æ³¨å†Œï¼Œæ— éœ€ä¸‹è½½ Appã€‚</div><div class="feature-badge">é›¶é—¨æ§›</div></div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• STREAM â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-stream" class="page">
  <div class="stream-page-wrap">
    <div id="stream-wrapper" class="theme-chinese">
      <div class="stream-layout">
        <div class="stream-main">
          <!-- Theme Picker -->
          <div class="theme-picker">
            <div class="theme-picker-title">ğŸ¨ ç›´æ’­é—´ä¸»é¢˜</div>
            <div class="theme-options">
              <div class="theme-opt selected" onclick="setTheme('chinese',this)"><div class="theme-swatch" style="background:linear-gradient(135deg,#c0392b,#6b0000)"></div>ä¸­å¼çº¢å–œ</div>
              <div class="theme-opt" onclick="setTheme('pink',this)"><div class="theme-swatch" style="background:linear-gradient(135deg,#f8bbd0,#e8a0b4)"></div>ç²‰è‰²æµªæ¼«</div>
              <div class="theme-opt" onclick="setTheme('gold',this)"><div class="theme-swatch" style="background:linear-gradient(135deg,#c9a96e,#2c1e08)"></div>é‡‘è‰²å…¸é›…</div>
              <div class="theme-opt" onclick="setTheme('white',this)"><div class="theme-swatch" style="background:linear-gradient(135deg,#faf8f5,#e8dfd0);border:1px solid #ccc"></div>ç™½è‰²ç®€çº¦</div>
            </div>
          </div>

          <!-- Video Box -->
          <div class="stream-video-box" id="stream-video-box">
            <div class="theme-bg"></div>
            <div class="theme-deco"></div>
            <div class="theme-xi" id="theme-xi">å›</div>
            <div class="theme-border" id="theme-border"></div>
            <div class="theme-heart" id="theme-heart"></div>
            <div class="theme-pattern" id="theme-pattern"></div>
            <video id="camera-video" autoplay playsinline muted></video>
            <div class="stream-waiting" id="stream-waiting">
              <div class="stream-waiting-icon">ğŸ’</div>
              <div class="stream-waiting-text">ç­‰å¾…å…¸ç¤¼å¼€å§‹</div>
              <div class="stream-waiting-sub">ç‚¹å‡»ã€Œå¼€å§‹ç›´æ’­ã€æ¥å…¥æ‘„åƒå¤´</div>
            </div>
            <div id="cam-error">
              <div style="font-size:36px;margin-bottom:8px">ğŸ“µ</div>
              <div style="font-family:'Noto Serif SC',serif;font-size:15px;opacity:.7;margin-bottom:5px">æ— æ³•è®¿é—®æ‘„åƒå¤´</div>
              <div style="font-size:11px;opacity:.4;line-height:1.7" id="cam-error-msg"></div>
            </div>
            <div class="vid-overlay-badge" id="live-badge-overlay"><div style="width:6px;height:6px;border-radius:50%;background:white;animation:blink 1.2s infinite"></div>ç›´æ’­ä¸­</div>
            <div class="vid-overlay-couple" id="couple-overlay">
              <div style="font-family:'Noto Serif SC',serif;font-size:14px;color:white;font-style:italic">æå©· &amp; ç‹ç£Š</div>
              <div style="font-size:9px;letter-spacing:1px;color:rgba(230,200,130,.8);margin-top:2px">6æœˆ14æ—¥ Â· èŠ±å›­å©šç¤¼</div>
            </div>
            <div class="vid-overlay-viewers" id="viewer-overlay">ğŸ‘ 247 äººè§‚çœ‹</div>
            <div class="stream-bar">
              <button class="ctrl-btn" id="mute-btn" onclick="toggleMute()" title="éº¦å…‹é£">ğŸ™ï¸</button>
              <button class="ctrl-btn" id="cam-btn" onclick="toggleCamera()" title="æ‘„åƒå¤´">ğŸ“·</button>
              <button class="ctrl-btn" onclick="toggleFullscreen()" title="å…¨å±">â›¶</button>
              <button class="ctrl-btn" id="mirror-btn" onclick="toggleMirror()" style="font-size:11px;width:auto;border-radius:3px;padding:0 10px">é•œåƒ</button>
              <div class="live-indicator" id="live-ind" style="display:none"><div class="dot"></div><span>ç›´æ’­ä¸­</span></div>
              <button class="ctrl-btn go-live-btn" id="go-live-btn" onclick="toggleLive()">â— å¼€å§‹ç›´æ’­</button>
            </div>
          </div>

          <div class="cam-notice" id="cam-notice">
            <span style="font-size:16px">ğŸ“·</span>
            <span>ç‚¹å‡»ã€Œå¼€å§‹ç›´æ’­ã€åï¼Œæµè§ˆå™¨ä¼šå¼¹å‡ºæ‘„åƒå¤´æˆæƒè¯·æ±‚ï¼Œè¯·ç‚¹å‡»<b>ã€Œå…è®¸ã€</b>ã€‚</span>
          </div>

          <div class="rehearsal-box">
            <div>
              <div class="rehearsal-title">å½©æ’å¤‡ä»½å·²å°±ç»ª</div>
              <div class="rehearsal-desc">æ˜¨æ—¥å½©æ’å½•åƒå·²ä¿å­˜ã€‚è‹¥ç›´æ’­ä¸­æ–­ï¼Œå¯æ— ç¼åˆ‡æ¢è‡³å¤‡ç”¨è§†é¢‘ï¼Œç¡®ä¿å®¾å®¢ä¸é”™è¿‡ä»»ä½•å…³é”®æ—¶åˆ»ã€‚</div>
            </div>
            <div class="rehearsal-status"><div class="status-dot-green"></div>å¤‡ç”¨å°±ç»ª Â· 01:24:07</div>
          </div>
        </div>

        <!-- SIDEBAR -->
        <div class="stream-sidebar">
          <div class="sidebar-card">
            <div class="sidebar-card-title">ç›´æ’­ç¥ç¦ ğŸ’¬</div>
            <div class="chat-msgs" id="chat-msgs">
              <div class="chat-msg-item"><strong>é˜¿å§¨ï¼ˆä¸œäº¬ï¼‰</strong> éš”ç€å±å¹•æ„ŸåŠ¨è½æ³ª ğŸ¥º</div>
              <div class="chat-msg-item"><strong>ç‹å®¶å…¨ä½“</strong> æ¨ä¸å¾—é£è¿‡æ¥ ğŸ¥‚</div>
              <div class="chat-msg-item gift-msg"><strong>ğŸ§§ èˆ…èˆ…</strong> é€å‡ºã€Œç™¾å¹´å¥½åˆã€Â· Â¥999</div>
              <div class="chat-msg-item"><strong>çˆ·çˆ·</strong> ä¸ºä½ ä»¬æ„Ÿåˆ°éª„å‚² ğŸ’•</div>
            </div>
            <div class="chat-input-row">
              <input class="chat-input" id="chat-input" placeholder="é€ä¸Šä½ çš„ç¥ç¦..." onkeydown="if(event.key==='Enter')sendMsg()"/>
              <button class="chat-send" onclick="sendMsg()">å‘é€</button>
            </div>
          </div>
          <div class="sidebar-card">
            <div class="sidebar-card-title">å‘é€è¡¨æƒ… âœ¨</div>
            <div class="reactions-grid">
              <button class="reaction-btn" onclick="sendReaction('â¤ï¸',event)">â¤ï¸</button>
              <button class="reaction-btn" onclick="sendReaction('ğŸ§§',event)">ğŸ§§</button>
              <button class="reaction-btn" onclick="sendReaction('ğŸ’',event)">ğŸ’</button>
              <button class="reaction-btn" onclick="sendReaction('ğŸ˜­',event)">ğŸ˜­</button>
              <button class="reaction-btn" onclick="sendReaction('ğŸ‰',event)">ğŸ‰</button>
              <button class="reaction-btn" onclick="sendReaction('ğŸ’',event)">ğŸ’</button>
              <button class="reaction-btn" onclick="sendReaction('ğŸ¥‚',event)">ğŸ¥‚</button>
              <button class="reaction-btn" onclick="sendReaction('âœ¨',event)">âœ¨</button>
            </div>
          </div>
          <div class="sidebar-card">
            <div class="sidebar-card-title">247 äººæ­£åœ¨è§‚çœ‹</div>
            <div class="viewers-list">ğŸ‡¨ğŸ‡³ åŒ—äº¬ Â· ğŸ‡¨ğŸ‡³ ä¸Šæµ· Â· ğŸ‡¨ğŸ‡³ å¹¿å·<br/>ğŸ‡ºğŸ‡¸ çº½çº¦ Â· ğŸ‡¯ğŸ‡µ ä¸œäº¬ Â· ğŸ‡¬ğŸ‡§ ä¼¦æ•¦<br/>ğŸ‡¦ğŸ‡º æ‚‰å°¼ Â· ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡</div>
            <div class="viewers-more">+ æ¥è‡ª 10 ä¸ªå›½å®¶å’Œåœ°åŒº</div>
          </div>
          <button class="btn-red" style="width:100%" onclick="showPage('gift')">ğŸ§§ é€å‡ºç¤¼ç‰©çº¢åŒ…</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• GIFT â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-gift" class="page">
  <div class="inner-page">
    <div class="page-title">é€å‡ºä½ çš„<em>å¿ƒæ„</em></div>
    <p class="page-sub">é€‰æ‹©å‰åˆ©çº¢åŒ…ï¼Œæˆ–è‡ªå®šä¹‰é‡‘é¢ä¸ç¥ç¦è¯­ã€‚æ‰€æœ‰ç¤¼è´¦å°†è®°å½•åœ¨æ¡ˆï¼Œæ–°äººå¯åœ¨å©šåå›çœ‹æ¯ä¸€ä»½å¿ƒæ„ã€‚</p>
    <div class="packets-grid" id="packets-grid"></div>
    <div class="custom-section">
      <div class="custom-title">è‡ªå®šä¹‰çº¢åŒ…</div>
      <div class="form-row">
        <div class="form-group"><label class="form-label">ä½ çš„å§“å</label><input class="form-input" id="gift-sender" placeholder="ä¾‹ï¼šå¼ ä¼Ÿå”å”"/></div>
        <div class="form-group"><label class="form-label">è‡ªå®šä¹‰é‡‘é¢ï¼ˆå…ƒï¼‰</label><input class="form-input" type="number" id="gift-custom-amount" placeholder="ä¾‹ï¼š520"/></div>
      </div>
      <div class="form-row single">
        <div class="form-group"><label class="form-label">ä¸“å±ç¥ç¦è¯­</label><input class="form-input" id="gift-blessing" placeholder="ä¾‹ï¼šæ„¿ä½ ä»¬ç›¸å®ˆä¸€ç”Ÿï¼Œå²å²å¹³å®‰"/></div>
      </div>
    </div>
    <div class="gift-summary">
      <div>
        <div class="gift-summary-title" id="summary-packet-name">è¯·é€‰æ‹©ä¸€ä¸ªçº¢åŒ… ğŸ‘†</div>
        <div class="gift-summary-amount" id="summary-amount">â€” <span style="font-size:14px;font-weight:300">å…ƒ</span></div>
        <div class="gift-summary-name" id="summary-blessing">é€‰æ‹©é¢„è®¾çº¢åŒ…æˆ–å¡«å†™è‡ªå®šä¹‰é‡‘é¢</div>
      </div>
      <button class="send-gift-btn" onclick="sendGift()">ğŸ§§ é€å‡ºçº¢åŒ…</button>
    </div>
    <div class="gift-history">
      <div class="history-title">ä»Šæ—¥ç¤¼è´¦ Â· å…±æ”¶åˆ° <span id="gift-total" style="color:var(--red)">Â¥3,588</span></div>
      <div id="gift-list">
        <div class="gift-item"><div class="gift-item-left"><div class="gift-item-emoji">ğŸ§§</div><div><div class="gift-item-sender">èˆ…èˆ…ä¸€å®¶</div><div class="gift-item-name">ç™¾å¹´å¥½åˆ</div></div></div><div><div class="gift-item-amount">Â¥999</div><div class="gift-item-time">14:32</div></div></div>
        <div class="gift-item"><div class="gift-item-left"><div class="gift-item-emoji">ğŸŠ</div><div><div class="gift-item-sender">å¤§å­¦åŒå­¦ç¾¤</div><div class="gift-item-name">æ—©ç”Ÿè´µå­</div></div></div><div><div class="gift-item-amount">Â¥288</div><div class="gift-item-time">14:28</div></div></div>
        <div class="gift-item"><div class="gift-item-left"><div class="gift-item-emoji">ğŸ’•</div><div><div class="gift-item-sender">å§‘å§‘ï¼ˆæ‚‰å°¼ï¼‰</div><div class="gift-item-name">èŠ±å¥½æœˆåœ†</div></div></div><div><div class="gift-item-amount">Â¥520</div><div class="gift-item-time">14:15</div></div></div>
        <div class="gift-item"><div class="gift-item-left"><div class="gift-item-emoji">ğŸ’</div><div><div class="gift-item-sender">é—ºèœœå›¢</div><div class="gift-item-name">ç™½å¤´å•è€</div></div></div><div><div class="gift-item-amount">Â¥666</div><div class="gift-item-time">13:44</div></div></div>
      </div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• MESSAGES â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-messages" class="page">
  <div class="inner-page">
    <div class="page-title">å©šç¤¼<em>ç¥ç¦ç•™è¨€</em></div>
    <p class="page-sub">ç•™ä¸‹ä½ å¯¹æ–°äººæœ€çœŸè¯šçš„ç¥ç¦ã€‚å©šç¤¼ç»“æŸåï¼Œä»–ä»¬ä¼šäº²è‡ªå›æ¥ç»†ç»†å“è¯»æ¯ä¸€æ¡å¿ƒæ„ã€‚</p>
    <div class="couple-view-banner">
      <div style="font-size:28px">ğŸ‘«</div>
      <div style="flex:1"><div style="font-family:'Noto Serif SC',serif;font-size:15px;color:var(--ivory);margin-bottom:2px">æ–°äººä¸“å±å›çœ‹æ¨¡å¼</div><div style="font-size:11px;color:rgba(250,247,242,.45)">å©šç¤¼ç»“æŸåï¼Œä»¥æ–°äººèº«ä»½æ…¢æ…¢å›å‘³æ¯ä¸€æ¡ç¥ç¦</div></div>
      <button style="background:var(--gold-dark);color:white;border:none;padding:7px 16px;font-size:12px;font-family:inherit;cursor:pointer;border-radius:2px" onclick="toggleCoupleView()">è¿›å…¥å›çœ‹æ¨¡å¼</button>
    </div>
    <div class="msg-stats">
      <div class="msg-stat"><div class="msg-stat-val" id="stat-total">24</div><div class="msg-stat-label">æ¡ç¥ç¦</div></div>
      <div class="msg-stat"><div class="msg-stat-val red" id="stat-hearts">186</div><div class="msg-stat-label">ä¸ªå¿ƒæ„</div></div>
      <div class="msg-stat"><div class="msg-stat-val gold" id="stat-countries">8</div><div class="msg-stat-label">ä¸ªåŸå¸‚</div></div>
      <div class="msg-stat"><div class="msg-stat-val" id="stat-family">12</div><div class="msg-stat-label">ä½å®¶äºº</div></div>
    </div>
    <div class="form-section" id="write-section">
      <div class="form-section-title">âœï¸ å†™ä¸‹ä½ çš„ç¥ç¦</div>
      <div class="form-row">
        <div class="form-group"><label class="form-label">ä½ çš„åå­—</label><input class="form-input" id="msg-sender" placeholder="ä¾‹ï¼šè¡¨å§ä¸€å®¶"/></div>
        <div class="form-group"><label class="form-label">ä¸æ–°äººçš„å…³ç³»</label><select class="form-select" id="msg-relation"><option value="family">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ å®¶äºº</option><option value="friend">ğŸ‘¯ æœ‹å‹</option><option value="colleague">ğŸ’¼ åŒäº‹/åŒå­¦</option><option value="other">ğŸŒŸ å…¶ä»–</option></select></div>
      </div>
      <div class="form-group" style="margin-bottom:12px"><label class="form-label">ç¥ç¦è¯­</label><textarea class="form-textarea" id="msg-text" placeholder="å†™ä¸‹æœ€çœŸè¯šçš„ç¥ç¦ï¼Œæ–°äººå°†åœ¨å©šåäº²è‡ªå›è¯»..." maxlength="200" oninput="updateCharCount()"></textarea><div class="char-count"><span id="char-count">0</span>/200</div></div>
      <div class="form-group" style="margin-bottom:14px"><label class="form-label">å¿ƒæƒ…</label><div class="mood-picker" id="mood-picker"><button class="mood-btn selected" onclick="selectMood(this,'â¤ï¸')">â¤ï¸</button><button class="mood-btn" onclick="selectMood(this,'ğŸ˜­')">ğŸ˜­</button><button class="mood-btn" onclick="selectMood(this,'ğŸ¥‚')">ğŸ¥‚</button><button class="mood-btn" onclick="selectMood(this,'ğŸŒ¸')">ğŸŒ¸</button><button class="mood-btn" onclick="selectMood(this,'ğŸ‰')">ğŸ‰</button><button class="mood-btn" onclick="selectMood(this,'ğŸ’')">ğŸ’</button><button class="mood-btn" onclick="selectMood(this,'ğŸ™')">ğŸ™</button></div></div>
      <button style="background:var(--charcoal);color:white;padding:11px 26px;border:none;font-size:13px;font-family:inherit;cursor:pointer;border-radius:2px;transition:all .3s" onclick="submitMessage()">é€å‡ºç¥ç¦ ğŸ’Œ</button>
    </div>
    <div class="filter-tabs">
      <button class="filter-tab active" onclick="filterMsgs('all',this)">å…¨éƒ¨ç¥ç¦</button>
      <button class="filter-tab" onclick="filterMsgs('family',this)">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ å®¶äºº</button>
      <button class="filter-tab" onclick="filterMsgs('friend',this)">ğŸ‘¯ æœ‹å‹</button>
      <button class="filter-tab" onclick="filterMsgs('colleague',this)">ğŸ’¼ åŒäº‹/åŒå­¦</button>
    </div>
    <div class="messages-wall" id="messages-wall"></div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• AI VIRTUAL WEDDING â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-ai" class="page">
  <div class="ai-page">
    <div class="ai-hero">
      <div class="ai-hero-stars"></div>
      <div class="ai-hero-title">ä¸<em>ä½ çš„å¶åƒ</em>ä¸¾åŠå©šç¤¼</div>
      <p class="ai-hero-sub">ä¸Šä¼ å¶åƒçš„ç…§ç‰‡ä¸èµ„æ–™ï¼ŒAI å°†ä¸ºä½ ç”Ÿæˆä¸“å±è™šæ‹Ÿä¼´ä¾£ï¼Œè¿›è¡ŒçœŸå®çš„å©šç¤¼èª“è¯å¯¹è¯ï¼Œå¹¶åˆ¶ä½œä¸“å±è¯·æŸ¬ä¸å‘¨è¾¹ã€‚</p>
      <div class="ai-warning">âš ï¸ æœ¬åŠŸèƒ½ä¸ºå¨±ä¹åˆ›æ„ä½“éªŒï¼ŒåŸºäº AI å¯¹è¯æŠ€æœ¯æ¨¡æ‹Ÿåœºæ™¯ï¼Œä¸ä»£è¡¨çœŸå®äººç‰©ç«‹åœºã€‚è¯·ç†æ€§ä½¿ç”¨ï¼Œå°Šé‡ä»–äººã€‚</div>
    </div>

    <div class="ai-steps">
      <div class="ai-step"><div class="ai-step-num">1</div><div class="ai-step-title">ä¸Šä¼ å¶åƒèµ„æ–™</div><div class="ai-step-desc">ä¸Šä¼ ç…§ç‰‡ã€å¡«å†™åå­—å’Œæ€§æ ¼å…³é”®è¯ï¼ŒAI å°†ä»¥æ­¤æ„å»ºè™šæ‹Ÿäººè®¾ã€‚</div></div>
      <div class="ai-step"><div class="ai-step-num">2</div><div class="ai-step-title">AI ç”Ÿæˆè™šæ‹Ÿä¼´ä¾£</div><div class="ai-step-desc">AI åˆ†æèµ„æ–™ï¼Œç”Ÿæˆä¸ªæ€§åŒ–çš„è™šæ‹Ÿæ–°éƒ/æ–°å¨˜å½¢è±¡ï¼Œå¹¶å‡†å¤‡å©šç¤¼å¯¹è¯ã€‚</div></div>
      <div class="ai-step"><div class="ai-step-num">3</div><div class="ai-step-title">è¿›è¡Œå©šç¤¼å¯¹è¯</div><div class="ai-step-desc">ä¸ AI ä¼´ä¾£è¿›è¡Œäº’åŠ¨å¯¹è¯ï¼Œäº¤æ¢èª“è¯ï¼Œä½“éªŒå®Œæ•´çš„å©šç¤¼ä»ªå¼æµç¨‹ã€‚</div></div>
    </div>

    <!-- Setup form -->
    <div class="form-section" id="ai-setup-form">
      <div class="form-section-title">ğŸ’« è®¾ç½®ä½ çš„è™šæ‹Ÿå©šç¤¼</div>
      <div class="form-row">
        <div class="form-group"><label class="form-label">å¶åƒå§“å</label><input class="form-input" id="idol-name" placeholder="ä¾‹ï¼šé¹¿æ™—ã€Taylor Swift"/></div>
        <div class="form-group"><label class="form-label">å¶åƒæ€§åˆ«</label><select class="form-select" id="idol-gender"><option value="male">ç”·æ€§ â€” è™šæ‹Ÿæ–°éƒ</option><option value="female">å¥³æ€§ â€” è™šæ‹Ÿæ–°å¨˜</option></select></div>
      </div>
      <div class="form-row">
        <div class="form-group"><label class="form-label">ä½ çš„åå­—</label><input class="form-input" id="user-name" placeholder="ä½ çš„åå­—"/></div>
        <div class="form-group"><label class="form-label">å©šç¤¼é£æ ¼</label><select class="form-select" id="wedding-style"><option value="romantic">ğŸ’• æµªæ¼«ç”œèœœ</option><option value="classic">ğŸ›ï¸ ç»å…¸åº„é‡</option><option value="playful">ğŸ‰ æ´»æ³¼æœ‰è¶£</option><option value="poetic">ğŸŒ¸ è¯—æ„å”¯ç¾</option></select></div>
      </div>
      <div class="form-row single">
        <div class="form-group"><label class="form-label">å¶åƒæ€§æ ¼å…³é”®è¯ï¼ˆå¸®åŠ© AI æ›´å¥½æ¨¡æ‹Ÿï¼‰</label><input class="form-input" id="idol-traits" placeholder="ä¾‹ï¼šæ¸©æŸ”ã€å¹½é»˜ã€æ·±æƒ…ã€é˜³å…‰..."/></div>
      </div>
      <div class="form-row single">
        <div class="form-group">
          <label class="form-label">ä¸Šä¼ å¶åƒç…§ç‰‡ï¼ˆå¯é€‰ï¼‰</label>
          <div class="upload-zone" onclick="document.getElementById('idol-photo').click()">
            <div class="upload-zone-icon">ğŸ“¸</div>
            <div class="upload-zone-text">ç‚¹å‡»æˆ–æ‹–æ‹½ä¸Šä¼ å¶åƒç…§ç‰‡<br/><span style="font-size:11px;color:#c5b8ac">æ”¯æŒ JPG/PNGï¼Œå°†æ˜¾ç¤ºåœ¨å¯¹è¯ç•Œé¢</span></div>
            <input type="file" id="idol-photo" accept="image/*" style="display:none" onchange="handleIdolPhoto(this)"/>
          </div>
          <div id="photo-preview" style="display:none;margin-top:10px;text-align:center"><img id="preview-img" style="width:80px;height:80px;border-radius:50%;object-fit:cover;border:2px solid var(--gold)"/><div style="font-size:11px;color:var(--muted);margin-top:5px">ç…§ç‰‡å·²ä¸Šä¼  âœ“</div></div>
        </div>
      </div>
      <button class="btn-purple" onclick="startAIWedding()" style="margin-top:4px">âœ¨ å¼€å§‹ AI è™šæ‹Ÿå©šç¤¼</button>
    </div>

    <!-- AI Result -->
    <div class="ai-result" id="ai-result">
      <div class="ai-couple-display">
        <div class="ai-avatar">
          <div class="ai-avatar-circle idol" id="idol-avatar"><img id="idol-avatar-img" style="display:none"/><span id="idol-avatar-emoji" style="font-size:36px">âœ¨</span></div>
          <div class="ai-avatar-name" id="idol-display-name">å¶åƒ</div>
          <div class="ai-avatar-tag">è™šæ‹Ÿæ–°éƒ/æ–°å¨˜</div>
        </div>
        <div class="ai-connect-line"></div>
        <div class="ai-avatar">
          <div class="ai-avatar-circle you"><span style="font-size:36px">ğŸ‘¤</span></div>
          <div class="ai-avatar-name" id="user-display-name">ä½ </div>
          <div class="ai-avatar-tag">ä»Šæ—¥ä¸»è§’</div>
        </div>
      </div>

      <div class="ai-dialog-area">
        <div class="ai-dialog-title">ğŸ’ å©šç¤¼å¯¹è¯ Â· ç”± AI ç”Ÿæˆ</div>
        <div class="ai-messages" id="ai-messages"></div>
        <div class="ai-loading" id="ai-loading" style="display:none">
          <div class="ai-dot"></div><div class="ai-dot"></div><div class="ai-dot"></div>
          <span id="idol-typing-name">å¶åƒ</span>æ­£åœ¨å›åº”...
        </div>
        <div class="ai-input-row">
          <input class="ai-input" id="ai-chat-input" placeholder="è¯´ç‚¹ä»€ä¹ˆ..." onkeydown="if(event.key==='Enter')sendAIMsg()"/>
          <button class="ai-send-btn" onclick="sendAIMsg()">å‘é€</button>
        </div>
      </div>

      <button class="ai-invite-btn" onclick="showInviteModal()">ğŸ“œ ç”Ÿæˆä¸“å±å©šç¤¼è¯·æŸ¬</button>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• PERIPHERALS â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<div id="page-peripherals" class="page">
  <div class="inner-page">
    <div class="page-title">å©šç¤¼<em>å‘¨è¾¹å®šåˆ¶</em></div>
    <p class="page-sub">ä»æ‹æ‘„åˆ°è¯·æŸ¬ï¼Œä»è¯ä¹¦åˆ°å€’è®¡æ—¶ï¼Œä¸€ç«™å¼æ‰“é€ ä½ çš„ä¸“å±å©šç¤¼ä½“éªŒã€‚</p>

    <div class="peripherals-grid">
      <div class="peripheral-card" onclick="showModal('photobooth-modal')"><div class="peripheral-icon">ğŸ“¸</div><div class="peripheral-title">äººç”Ÿå››æ ¼æ‹æ‘„</div><div class="peripheral-desc">å››æ ¼å©šçº±ç…§æ‹æ‘„ï¼Œè‡ªåŠ¨æ‹¼å›¾ï¼Œæ‰“å°æˆ–åˆ†äº«ç»™å®¾å®¢ã€‚</div><div class="peripheral-badge">äº’åŠ¨ä½“éªŒ</div></div>
      <div class="peripheral-card" onclick="showModal('invite-modal')"><div class="peripheral-icon">ğŸ’Œ</div><div class="peripheral-title">ç”µå­å©šç¤¼è¯·æŸ¬</div><div class="peripheral-desc">ç²¾ç¾ä¸­å¼è¯·æŸ¬æ¨¡æ¿ï¼Œå¡«å†™ä¿¡æ¯å³å¯ç”Ÿæˆï¼Œä¸€é”®åˆ†äº«ç»™å®¾å®¢ã€‚</div><div class="peripheral-badge">å¯åˆ†äº«</div></div>
      <div class="peripheral-card" onclick="showModal('cert-modal')"><div class="peripheral-icon">ğŸ“œ</div><div class="peripheral-title">ä¸“å±ç»“å©šè¯ä¹¦</div><div class="peripheral-desc">å®šåˆ¶ä¸“å±ç»“å©šè¯ä¹¦ï¼Œå¯æ‰“å°æ”¶è—æˆ–ä½œä¸ºå©šç¤¼ç°åœºå¸ƒæ™¯é“å…·ã€‚</div><div class="peripheral-badge">å¯æ‰“å°</div></div>
      <div class="peripheral-card" onclick="showModal('countdown-modal')"><div class="peripheral-icon">â³</div><div class="peripheral-title">å©šç¤¼å€’è®¡æ—¶</div><div class="peripheral-desc">è®¾ç½®å©šç¤¼æ—¥æœŸï¼Œç”Ÿæˆä¸“å±å€’è®¡æ—¶é¡µé¢ï¼Œåˆ†äº«åˆ°æœ‹å‹åœˆé¢„çƒ­ã€‚</div><div class="peripheral-badge">æ°›å›´è¥é€ </div></div>
      <div class="peripheral-card" onclick="showModal('qr-modal')"><div class="peripheral-icon">ğŸ”—</div><div class="peripheral-title">ä¸“å±äºŒç»´ç </div><div class="peripheral-desc">ç”Ÿæˆå©šç¤¼ç›´æ’­ä¸“å±äºŒç»´ç ï¼Œå°åœ¨è¯·æŸ¬æˆ–å©šç¤¼ç°åœºæµ·æŠ¥ä¸Šã€‚</div><div class="peripheral-badge">å¼•æµåˆ©å™¨</div></div>
      <div class="peripheral-card" onclick="showModal('guestbook-modal')"><div class="peripheral-icon">âœï¸</div><div class="peripheral-title">å®¾å®¢ç­¾åˆ°å¢™</div><div class="peripheral-desc">çº¿ä¸Šç”µå­ç­¾åˆ°ï¼Œå®¾å®¢ç•™åç•™è¨€ï¼Œå©šç¤¼ç»“æŸåç”Ÿæˆä¸“å±ç­¾åˆ°å›¾ã€‚</div><div class="peripheral-badge">äº’åŠ¨ç•™å¿µ</div></div>
      <div class="peripheral-card" onclick="showModal('cover-modal')"><div class="peripheral-icon">ğŸ¬</div><div class="peripheral-title">ç›´æ’­å°é¢å®šåˆ¶</div><div class="peripheral-desc">ä¸ºå©šç¤¼ç›´æ’­ç”Ÿæˆç²¾ç¾å°é¢å›¾ï¼Œå½°æ˜¾ä¸“å±é£æ ¼ï¼Œå¸å¼•å®¾å®¢è§‚çœ‹ã€‚</div><div class="peripheral-badge">è§†è§‰å‡çº§</div></div>
      <div class="peripheral-card" onclick="showModal('album-modal')"><div class="peripheral-icon">ğŸ–¼ï¸</div><div class="peripheral-title">å©šç¤¼ç›¸å†Œ</div><div class="peripheral-desc">ä¸Šä¼ å©šçº±ç…§å’Œç°åœºç…§ç‰‡ï¼Œè‡ªåŠ¨ç”Ÿæˆç²¾ç¾ç”µå­ç›¸å†Œï¼Œæ°¸ä¹…å­˜æ¡£ã€‚</div><div class="peripheral-badge">æ°¸ä¹…çè—</div></div>
      <div class="peripheral-card" onclick="showModal('vow-modal')"><div class="peripheral-icon">ğŸ’¬</div><div class="peripheral-title">èª“è¯ç”Ÿæˆå™¨</div><div class="peripheral-desc">è¾“å…¥ä½ ä»¬çš„æ•…äº‹ï¼ŒAI ä¸ºä½ ç”Ÿæˆä¸“å±å©šç¤¼èª“è¯ï¼Œæ„ŸåŠ¨å…¨åœºã€‚</div><div class="peripheral-badge">AIç”Ÿæˆ</div></div>
    </div>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â• MODALS â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<!-- Photo Booth -->
<div class="modal-overlay" id="photobooth-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('photobooth-modal')">âœ•</button>
    <div class="modal-title">ğŸ“¸ äººç”Ÿå››æ ¼æ‹æ‘„</div>
    <div class="modal-sub">æ‹æ‘„æˆ–ä¸Šä¼ å››å¼ ç…§ç‰‡ï¼Œè‡ªåŠ¨æ‹¼åˆæˆå©šç¤¼çºªå¿µå››æ ¼ç›¸å†Œã€‚</div>
    <div class="photobooth-area">
      <div class="photobooth-header">
        <div class="photobooth-title">å©šç¤¼çºªå¿µç›¸å†Œ</div>
        <span style="font-size:12px;color:rgba(255,255,255,.4)">ç‚¹å‡»æ ¼å­ä¸Šä¼ ç…§ç‰‡</span>
      </div>
      <div class="photobooth-body">
        <div class="photobooth-frames">
          <div class="photobooth-frame" onclick="uploadFrame(0)"><div class="frame-placeholder"><div class="frame-placeholder-icon">ğŸ“·</div><div class="frame-placeholder-text">ç¬¬ä¸€æ ¼</div></div><div class="frame-overlay"><div class="frame-num">01</div></div></div>
          <div class="photobooth-frame" onclick="uploadFrame(1)"><div class="frame-placeholder"><div class="frame-placeholder-icon">ğŸ“·</div><div class="frame-placeholder-text">ç¬¬äºŒæ ¼</div></div><div class="frame-overlay"><div class="frame-num">02</div></div></div>
          <div class="photobooth-frame" onclick="uploadFrame(2)"><div class="frame-placeholder"><div class="frame-placeholder-icon">ğŸ“·</div><div class="frame-placeholder-text">ç¬¬ä¸‰æ ¼</div></div><div class="frame-overlay"><div class="frame-num">03</div></div></div>
          <div class="photobooth-frame" onclick="uploadFrame(3)"><div class="frame-placeholder"><div class="frame-placeholder-icon">ğŸ“·</div><div class="frame-placeholder-text">ç¬¬å››æ ¼</div></div><div class="frame-overlay"><div class="frame-num">04</div></div></div>
        </div>
        <input type="file" id="frame-input" accept="image/*" style="display:none" onchange="handleFrameUpload(this)"/>
        <button class="btn-primary" style="width:100%">ğŸ“¥ ä¸‹è½½å››æ ¼ç›¸å†Œ</button>
      </div>
    </div>
  </div>
</div>

<!-- Invitation -->
<div class="modal-overlay" id="invite-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('invite-modal')">âœ•</button>
    <div class="modal-title">ğŸ’Œ ç”µå­å©šç¤¼è¯·æŸ¬</div>
    <div class="modal-sub">å¡«å†™ä¿¡æ¯åï¼Œå®æ—¶é¢„è§ˆä½ çš„ä¸“å±å©šç¤¼è¯·æŸ¬ã€‚</div>
    <div class="form-row" style="margin-bottom:12px">
      <div class="form-group"><label class="form-label">æ–°å¨˜å§“å</label><input class="form-input" id="inv-p1" placeholder="ä¾‹ï¼šæå©·" oninput="updateInvite()"/></div>
      <div class="form-group"><label class="form-label">æ–°éƒå§“å</label><input class="form-input" id="inv-p2" placeholder="ä¾‹ï¼šç‹ç£Š" oninput="updateInvite()"/></div>
    </div>
    <div class="form-row" style="margin-bottom:16px">
      <div class="form-group"><label class="form-label">å©šç¤¼æ—¥æœŸ</label><input class="form-input" type="date" id="inv-date" oninput="updateInvite()"/></div>
      <div class="form-group"><label class="form-label">å©šç¤¼åœ°ç‚¹</label><input class="form-input" id="inv-venue" placeholder="ä¾‹ï¼šåŒ—äº¬é¦™æ ¼é‡Œæ‹‰é…’åº—" oninput="updateInvite()"/></div>
    </div>
    <div class="invite-preview" id="invite-preview">
      <div class="invite-corner tl"></div><div class="invite-corner tr"></div>
      <div class="invite-corner bl"></div><div class="invite-corner br"></div>
      <div class="invite-xi">å›</div>
      <div class="invite-names" id="inv-names-display">æ–°å¨˜ &amp; æ–°éƒ</div>
      <div class="invite-divider"></div>
      <div class="invite-slogan">è°¨è®¢äºæ­¤æ—¥ Â· æ­è¯·è…ä¸´</div>
      <div class="invite-divider"></div>
      <div class="invite-date" id="inv-date-display">é€‰æ‹©å©šç¤¼æ—¥æœŸ</div>
      <div class="invite-venue" id="inv-venue-display">å¡«å†™å©šç¤¼åœ°ç‚¹</div>
    </div>
    <button class="btn-primary" style="width:100%;margin-top:14px">ğŸ“¤ åˆ†äº«è¯·æŸ¬</button>
  </div>
</div>

<!-- Certificate -->
<div class="modal-overlay" id="cert-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('cert-modal')">âœ•</button>
    <div class="modal-title">ğŸ“œ ä¸“å±ç»“å©šè¯ä¹¦</div>
    <div class="modal-sub">å®šåˆ¶ä½ ä»¬çš„ä¸“å±ç»“å©šè¯ä¹¦ï¼Œå¯æ‰“å°æ”¶è—ã€‚</div>
    <div class="form-row" style="margin-bottom:16px">
      <div class="form-group"><label class="form-label">æ–°å¨˜å§“å</label><input class="form-input" id="cert-p1" placeholder="æå©·" oninput="updateCert()"/></div>
      <div class="form-group"><label class="form-label">æ–°éƒå§“å</label><input class="form-input" id="cert-p2" placeholder="ç‹ç£Š" oninput="updateCert()"/></div>
    </div>
    <div class="cert-preview" id="cert-preview">
      <div class="cert-title">ç»“å©šè¯ä¹¦</div>
      <div class="cert-seal">å›</div>
      <div class="cert-text" id="cert-text-display">
        å…¹è¯æ˜<br/>
        <strong style="font-size:16px;font-family:'Noto Serif SC',serif">æ–°å¨˜</strong> ä¸ <strong style="font-size:16px;font-family:'Noto Serif SC',serif">æ–°éƒ</strong><br/>
        è‡ªæ„¿ç»“ä¸ºå¤«å¦»<br/>
        æ„¿ç™½å¤´å•è€ï¼Œæ°¸ç»“åŒå¿ƒ<br/>
        <br/>
        <span style="font-size:11px;color:var(--muted)">VOW å› Â· è§è¯ä½ ä»¬çš„çˆ±æƒ…</span>
      </div>
    </div>
    <button class="btn-primary" style="width:100%;margin-top:14px">ğŸ–¨ï¸ æ‰“å°è¯ä¹¦</button>
  </div>
</div>

<!-- Countdown -->
<div class="modal-overlay" id="countdown-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('countdown-modal')">âœ•</button>
    <div class="modal-title">â³ å©šç¤¼å€’è®¡æ—¶</div>
    <div class="modal-sub">è®¾ç½®ä½ çš„å©šç¤¼æ—¥æœŸï¼Œç”Ÿæˆä¸“å±å€’è®¡æ—¶ã€‚</div>
    <div class="form-group" style="margin-bottom:18px"><label class="form-label">å©šç¤¼æ—¥æœŸ</label><input class="form-input" type="date" id="cd-date" oninput="updateCountdown()"/></div>
    <div class="countdown-display">
      <div class="countdown-label">è·ç¦»å©šç¤¼è¿˜æœ‰</div>
      <div class="countdown-nums">
        <div class="countdown-unit"><span class="countdown-val" id="cd-days">--</span><div class="countdown-unit-label">å¤©</div></div>
        <div class="countdown-sep">:</div>
        <div class="countdown-unit"><span class="countdown-val" id="cd-hours">--</span><div class="countdown-unit-label">æ—¶</div></div>
        <div class="countdown-sep">:</div>
        <div class="countdown-unit"><span class="countdown-val" id="cd-mins">--</span><div class="countdown-unit-label">åˆ†</div></div>
        <div class="countdown-sep">:</div>
        <div class="countdown-unit"><span class="countdown-val" id="cd-secs">--</span><div class="countdown-unit-label">ç§’</div></div>
      </div>
    </div>
    <button class="btn-primary" style="width:100%;margin-top:14px">ğŸ“¤ åˆ†äº«å€’è®¡æ—¶é¡µé¢</button>
  </div>
</div>

<!-- QR Code -->
<div class="modal-overlay" id="qr-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('qr-modal')">âœ•</button>
    <div class="modal-title">ğŸ”— ä¸“å±äºŒç»´ç </div>
    <div class="modal-sub">ä½ çš„å©šç¤¼ç›´æ’­ä¸“å±äºŒç»´ç ï¼Œæ‰«ç å³å¯è§‚çœ‹ã€‚</div>
    <div class="qr-box">
      <div class="qr-placeholder">
        <span style="font-size:28px">â–¦</span>
        <span>äºŒç»´ç </span>
      </div>
      <div class="qr-url">https://lelehihi.github.io/vow-wedding/</div>
      <p style="font-size:11px;color:var(--muted);margin-top:10px">å°†æ­¤äºŒç»´ç å°åœ¨è¯·æŸ¬ã€å©šç¤¼ç°åœºæµ·æŠ¥æˆ–æ¡Œå¡ä¸Šï¼Œå®¾å®¢æ‰«ç å³å¯è§‚çœ‹ç›´æ’­ã€‚</p>
    </div>
    <button class="btn-primary" style="width:100%;margin-top:14px">ğŸ“¥ ä¸‹è½½äºŒç»´ç </button>
  </div>
</div>

<!-- Guest Book -->
<div class="modal-overlay" id="guestbook-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('guestbook-modal')">âœ•</button>
    <div class="modal-title">âœï¸ å®¾å®¢ç­¾åˆ°å¢™</div>
    <div class="modal-sub">å®¾å®¢æ‰«ç ç­¾åˆ°å¹¶ç•™è¨€ï¼Œå©šç¤¼ç»“æŸåç”Ÿæˆä¸“å±ç­¾åˆ°å›¾ã€‚</div>
    <div class="form-group" style="margin-bottom:12px"><label class="form-label">ä½ çš„åå­—</label><input class="form-input" id="gb-name" placeholder="ä¾‹ï¼šç‹èŠ³"/></div>
    <div class="form-group" style="margin-bottom:16px"><label class="form-label">ç­¾åˆ°ç¥ç¦</label><input class="form-input" id="gb-msg" placeholder="ä¾‹ï¼šæ­å–œæ–°äººï¼"/></div>
    <button class="btn-primary" onclick="addGuestSign()" style="margin-bottom:16px">âœ… æˆ‘æ¥äº†ï¼ç­¾åˆ°</button>
    <div id="guestbook-list" style="display:flex;flex-wrap:wrap;gap:8px">
      <div style="background:var(--cream);padding:8px 12px;border-radius:20px;font-size:12px;color:var(--charcoal)">æå©·çˆ¸å¦ˆ Â· ç¥ç™¾å¹´å¥½åˆ</div>
      <div style="background:var(--cream);padding:8px 12px;border-radius:20px;font-size:12px;color:var(--charcoal)">å¤§å­¦å®¤å‹å›¢ Â· æ–°å©šå¿«ä¹</div>
      <div style="background:var(--cream);padding:8px 12px;border-radius:20px;font-size:12px;color:var(--charcoal)">çˆ·çˆ·å¥¶å¥¶ Â· ç™½å¤´å•è€</div>
    </div>
  </div>
</div>

<!-- Live Cover -->
<div class="modal-overlay" id="cover-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('cover-modal')">âœ•</button>
    <div class="modal-title">ğŸ¬ ç›´æ’­å°é¢å®šåˆ¶</div>
    <div class="modal-sub">ä¸ºä½ çš„å©šç¤¼ç›´æ’­ç”Ÿæˆç²¾ç¾å°é¢å›¾ã€‚</div>
    <div class="form-row" style="margin-bottom:12px">
      <div class="form-group"><label class="form-label">æ–°å¨˜å§“å</label><input class="form-input" id="cov-p1" placeholder="æå©·" oninput="updateCover()"/></div>
      <div class="form-group"><label class="form-label">æ–°éƒå§“å</label><input class="form-input" id="cov-p2" placeholder="ç‹ç£Š" oninput="updateCover()"/></div>
    </div>
    <!-- Cover Preview -->
    <div style="background:linear-gradient(135deg,#6b0000,#3d0000);border-radius:6px;padding:28px;text-align:center;position:relative;overflow:hidden;aspect-ratio:16/9;display:flex;flex-direction:column;align-items:center;justify-content:center">
      <div style="position:absolute;inset:0;background:radial-gradient(ellipse at 30% 30%,rgba(255,100,100,.15),transparent 50%)"></div>
      <div style="font-family:'Ma Shan Zheng','Noto Serif SC',serif;font-size:48px;color:rgba(255,215,0,.3);position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)">å›</div>
      <div style="font-family:'Noto Serif SC',serif;font-size:22px;color:rgba(255,215,0,.8);position:relative;z-index:1;margin-bottom:8px">â¤ï¸ å©šç¤¼ç›´æ’­</div>
      <div id="cov-names" style="font-family:'Ma Shan Zheng','Noto Serif SC',serif;font-size:32px;color:white;position:relative;z-index:1">æå©· &amp; ç‹ç£Š</div>
      <div style="font-size:11px;color:rgba(255,255,255,.5);margin-top:8px;letter-spacing:2px;position:relative;z-index:1">VOW å› Â· å©šç¤¼ç›´æ’­å¹³å°</div>
    </div>
    <button class="btn-primary" style="width:100%;margin-top:14px">ğŸ“¥ ä¸‹è½½å°é¢å›¾</button>
  </div>
</div>

<!-- Album -->
<div class="modal-overlay" id="album-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('album-modal')">âœ•</button>
    <div class="modal-title">ğŸ–¼ï¸ å©šç¤¼ç›¸å†Œ</div>
    <div class="modal-sub">ä¸Šä¼ å©šçº±ç…§ä¸ç°åœºç…§ç‰‡ï¼Œè‡ªåŠ¨ç”Ÿæˆç²¾ç¾ç”µå­ç›¸å†Œï¼Œæ°¸ä¹…å­˜æ¡£ã€‚</div>
    <div class="upload-zone" onclick="document.getElementById('album-upload').click()" style="margin-bottom:16px">
      <div class="upload-zone-icon">ğŸ–¼ï¸</div>
      <div class="upload-zone-text">ç‚¹å‡»ä¸Šä¼ å©šçº±ç…§æˆ–ç°åœºç…§ç‰‡<br/><span style="font-size:11px;color:#c5b8ac">æ”¯æŒå¤šå¼ ä¸Šä¼ </span></div>
      <input type="file" id="album-upload" accept="image/*" multiple style="display:none" onchange="handleAlbumUpload(this)"/>
    </div>
    <div id="album-grid" style="display:grid;grid-template-columns:repeat(3,1fr);gap:8px"></div>
    <button class="btn-primary" style="width:100%;margin-top:14px">âœ¨ ç”Ÿæˆç”µå­ç›¸å†Œ</button>
  </div>
</div>

<!-- Vow Generator -->
<div class="modal-overlay" id="vow-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('vow-modal')">âœ•</button>
    <div class="modal-title">ğŸ’¬ AI èª“è¯ç”Ÿæˆå™¨</div>
    <div class="modal-sub">å‘Šè¯‰æˆ‘ä»¬ä½ ä»¬çš„æ•…äº‹ï¼ŒAI ä¸ºä½ ç”Ÿæˆä¸“å±å©šç¤¼èª“è¯ã€‚</div>
    <div class="form-group" style="margin-bottom:12px"><label class="form-label">ä½ ä»¬æ˜¯æ€ä¹ˆç›¸è¯†çš„ï¼Ÿ</label><input class="form-input" id="vow-meet" placeholder="ä¾‹ï¼šå¤§å­¦å›¾ä¹¦é¦†å¶ç„¶ç›¸é‡..."/></div>
    <div class="form-group" style="margin-bottom:12px"><label class="form-label">å¯¹æ–¹æœ€æ‰“åŠ¨ä½ çš„ä¸€ç‚¹</label><input class="form-input" id="vow-touch" placeholder="ä¾‹ï¼šä»–æ€»æ˜¯åœ¨æˆ‘æœ€éš¾è¿‡çš„æ—¶å€™å‡ºç°..."/></div>
    <div class="form-group" style="margin-bottom:16px"><label class="form-label">èª“è¯é£æ ¼</label><select class="form-select" id="vow-style"><option>ğŸ’• æµªæ¼«æ„Ÿæ€§</option><option>ğŸŒ¿ æœ´å®çœŸè¯š</option><option>âœ¨ è¯—æ„ä¼˜ç¾</option><option>ğŸ˜„ è½»æ¾å¹½é»˜</option></select></div>
    <button class="btn-primary" onclick="generateVow()" style="margin-bottom:14px">âœ¨ AI ç”Ÿæˆèª“è¯</button>
    <div id="vow-result" style="display:none;background:var(--cream);border-radius:4px;padding:18px;font-family:'Noto Serif SC',serif;font-size:14px;line-height:2;color:var(--charcoal);border-left:3px solid var(--gold)"></div>
  </div>
</div>

<!-- AI Invitation Modal -->
<div class="modal-overlay" id="ai-invite-modal">
  <div class="modal">
    <button class="modal-close" onclick="closeModal('ai-invite-modal')">âœ•</button>
    <div class="modal-title">ğŸ“œ AI è™šæ‹Ÿå©šç¤¼è¯·æŸ¬</div>
    <div class="modal-sub">ä½ ä¸å¶åƒçš„ä¸“å±å©šç¤¼è¯·æŸ¬å·²ç”Ÿæˆã€‚</div>
    <div class="invite-preview" id="ai-invite-preview">
      <div class="invite-corner tl"></div><div class="invite-corner tr"></div>
      <div class="invite-corner bl"></div><div class="invite-corner br"></div>
      <div class="invite-xi">å›</div>
      <div class="invite-names" id="ai-inv-names">ä½  &amp; å¶åƒ</div>
      <div class="invite-divider"></div>
      <div class="invite-slogan">æ˜Ÿå…‰ä¸ºè¯ Â· çˆ±æ„æ°¸æ’</div>
      <div class="invite-divider"></div>
      <div class="invite-date">AI è™šæ‹Ÿå©šç¤¼çºªå¿µæ—¥</div>
      <div class="invite-venue" style="color:var(--purple)">ç”± VOW å› AI è§è¯</div>
    </div>
    <div style="background:rgba(125,60,152,.05);border:1px solid rgba(125,60,152,.15);border-radius:4px;padding:12px 16px;font-size:12px;color:var(--muted);margin-top:14px;line-height:1.7">âš ï¸ æœ¬è¯·æŸ¬ä¸º AI è™šæ‹Ÿå©šç¤¼çºªå¿µå“ï¼Œä»…ä¾›å¨±ä¹æ”¶è—ï¼Œä¸å…·å¤‡æ³•å¾‹æ•ˆåŠ›ã€‚</div>
    <button class="btn-purple" style="width:100%;margin-top:14px">ğŸ“¥ ä¸‹è½½è¯·æŸ¬</button>
  </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     JAVASCRIPT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
<script>
// PAGE NAV
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  document.getElementById('page-'+id).classList.add('active');
  const map=['home','stream','gift','messages','ai','peripherals'];
  const idx=map.indexOf(id);
  if(idx>-1) document.querySelectorAll('.nav-btn')[idx].classList.add('active');
  window.scrollTo({top:0,behavior:'smooth'});
}

// MODAL
function showModal(id){document.getElementById(id).classList.add('show')}
function closeModal(id){document.getElementById(id).classList.remove('show')}
document.querySelectorAll('.modal-overlay').forEach(m=>{
  m.addEventListener('click',e=>{if(e.target===m)m.classList.remove('show')});
});

// THEME
function setTheme(name,btn){
  document.getElementById('stream-wrapper').className='theme-'+name;
  document.querySelectorAll('.theme-opt').forEach(o=>o.classList.remove('selected'));
  btn.classList.add('selected');
}

// STREAM / CAMERA
let isLive=false,micMuted=false,camOff=false,mirrored=true,mediaStream=null;

async function toggleLive(){
  if(!isLive) await startCamera(); else stopCamera();
}
async function startCamera(){
  const btn=document.getElementById('go-live-btn');
  btn.textContent='â³ è¿æ¥ä¸­...'; btn.disabled=true;
  try{
    mediaStream=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:'user'},audio:true});
    const v=document.getElementById('camera-video');
    v.srcObject=mediaStream; v.style.display='block';
    document.getElementById('stream-waiting').style.display='none';
    document.getElementById('cam-error').style.display='none';
    document.getElementById('cam-notice').style.display='none';
    ['live-badge-overlay','couple-overlay','viewer-overlay'].forEach(id=>{
      const el=document.getElementById(id);
      el.style.display=id==='live-badge-overlay'?'flex':'block';
    });
    document.getElementById('live-ind').style.display='flex';
    btn.textContent='â–  ç»“æŸç›´æ’­'; btn.style.background='#555'; btn.style.borderColor='#555';
    btn.disabled=false; isLive=true;
    if(mediaStream) mediaStream.getAudioTracks().forEach(t=>t.enabled=!micMuted);
  }catch(err){
    btn.textContent='â— å¼€å§‹ç›´æ’­'; btn.style.background=''; btn.style.borderColor=''; btn.disabled=false;
    document.getElementById('stream-waiting').style.display='none';
    document.getElementById('cam-error').style.display='block';
    let msg='è¯·æ£€æŸ¥æµè§ˆå™¨æƒé™ååˆ·æ–°é‡è¯•ã€‚';
    if(err.name==='NotAllowedError') msg='ä½ æ‹’ç»äº†æ‘„åƒå¤´æƒé™ã€‚<br/>è¯·ç‚¹å‡»åœ°å€æ å·¦ä¾§ğŸ”’ â†’ å°†æ‘„åƒå¤´æ”¹ä¸ºã€Œå…è®¸ã€â†’ åˆ·æ–°ã€‚';
    else if(err.name==='NotFoundError') msg='æœªæ£€æµ‹åˆ°æ‘„åƒå¤´ï¼Œè¯·ç¡®è®¤è®¾å¤‡å·²è¿æ¥ã€‚';
    else if(err.name==='NotReadableError') msg='æ‘„åƒå¤´è¢«å…¶ä»–ç¨‹åºå ç”¨ï¼ˆå¦‚å¾®ä¿¡ï¼‰ï¼Œè¯·å…ˆå…³é—­å†è¯•ã€‚';
    document.getElementById('cam-error-msg').innerHTML=msg;
  }
}
function stopCamera(){
  if(mediaStream){mediaStream.getTracks().forEach(t=>t.stop());mediaStream=null;}
  const v=document.getElementById('camera-video'); v.srcObject=null; v.style.display='none';
  document.getElementById('stream-waiting').style.display='block';
  document.getElementById('stream-waiting').innerHTML='<div class="stream-waiting-icon">âœ…</div><div class="stream-waiting-text">ç›´æ’­å·²ç»“æŸ</div><div class="stream-waiting-sub">å›æ”¾å¤„ç†ä¸­...</div>';
  ['live-badge-overlay','couple-overlay','viewer-overlay'].forEach(id=>document.getElementById(id).style.display='none');
  document.getElementById('live-ind').style.display='none';
  const btn=document.getElementById('go-live-btn'); btn.textContent='â— å¼€å§‹ç›´æ’­'; btn.style.background=''; btn.style.borderColor=''; isLive=false;
}
function toggleMute(){
  micMuted=!micMuted;
  document.getElementById('mute-btn').textContent=micMuted?'ğŸ”‡':'ğŸ™ï¸';
  document.getElementById('mute-btn').style.background=micMuted?'rgba(192,57,43,.5)':'';
  if(mediaStream) mediaStream.getAudioTracks().forEach(t=>t.enabled=!micMuted);
}
function toggleCamera(){
  camOff=!camOff;
  const v=document.getElementById('camera-video'); const btn=document.getElementById('cam-btn');
  if(mediaStream) mediaStream.getVideoTracks().forEach(t=>t.enabled=!camOff);
  v.style.opacity=camOff?'0':'1'; btn.textContent=camOff?'ğŸš«':'ğŸ“·';
  btn.style.background=camOff?'rgba(192,57,43,.5)':'';
}
function toggleMirror(){
  mirrored=!mirrored;
  document.getElementById('camera-video').style.transform=mirrored?'scaleX(-1)':'scaleX(1)';
  document.getElementById('mirror-btn').style.background=mirrored?'rgba(201,169,110,.3)':'';
}
function toggleFullscreen(){
  const box=document.getElementById('stream-video-box');
  if(!document.fullscreenElement) box.requestFullscreen().catch(()=>{});
  else document.exitFullscreen();
}
function sendMsg(){
  const inp=document.getElementById('chat-input'); const t=inp.value.trim(); if(!t) return;
  const msgs=document.getElementById('chat-msgs');
  const d=document.createElement('div'); d.className='chat-msg-item';
  d.innerHTML='<strong>æˆ‘</strong> '+t; msgs.appendChild(d); msgs.scrollTop=msgs.scrollHeight; inp.value='';
}
function sendReaction(emoji,e){
  const btn=e.target; btn.style.transform='scale(1.4)'; setTimeout(()=>btn.style.transform='',300);
  const el=document.createElement('div'); el.textContent=emoji; el.className='float-reaction';
  const r=btn.getBoundingClientRect(); el.style.left=r.left+'px'; el.style.top=r.top+'px';
  document.body.appendChild(el); setTimeout(()=>el.remove(),1700);
}

// GIFT
const PACKETS=[
  {emoji:'ğŸ§§',name:'ç™¾å¹´å¥½åˆ',amount:999,blessing:'æ„¿ä½ ä»¬ç›¸å®ˆç™¾å¹´ï¼Œåˆå’Œç¾æ»¡'},
  {emoji:'ğŸ’',name:'ç™½å¤´å•è€',amount:666,blessing:'æ„¿ä½ ä»¬æ©æ©çˆ±çˆ±ï¼Œç™½å¤´å•è€'},
  {emoji:'ğŸ€',name:'å¹¸ç¦ç¾æ»¡',amount:520,blessing:'520ï¼Œæˆ‘çˆ±ä½ ï¼Œæ°¸è¿œå¹¸ç¦'},
  {emoji:'ğŸŒ¸',name:'èŠ±å¥½æœˆåœ†',amount:388,blessing:'èŠ±å¥½æœˆåœ†äººå›¢åœ†ï¼Œå²å²å¹³å®‰'},
  {emoji:'ğŸŠ',name:'æ—©ç”Ÿè´µå­',amount:288,blessing:'æ—©ç”Ÿè´µå­ï¼Œé˜–å®¶æ¬¢ä¹'},
  {emoji:'ğŸ’•',name:'é‡‘ç‰æ»¡å ‚',amount:188,blessing:'é‡‘ç‰æ»¡å ‚ï¼Œç¦è¿ç»µé•¿'},
  {emoji:'ğŸŒŸ',name:'å–œç»“è‰¯ç¼˜',amount:99.9,blessing:'å¤©ä½œä¹‹åˆï¼Œå–œç»“è‰¯ç¼˜'},
  {emoji:'ğŸ',name:'å¿ƒæƒ³äº‹æˆ',amount:66.6,blessing:'å¿ƒæƒ³äº‹æˆï¼Œä¸‡äº‹å¦‚æ„'},
];
let selectedPacket=null,giftTotal=3588;
function renderPackets(){
  document.getElementById('packets-grid').innerHTML=PACKETS.map((p,i)=>`
    <div class="packet-card" id="packet-${i}" onclick="selectPacket(${i})">
      <div class="packet-emoji">${p.emoji}</div>
      <div class="packet-name">${p.name}</div>
      <div class="packet-amount">${p.amount%1===0?p.amount:p.amount.toFixed(1)}<span> å…ƒ</span></div>
      <div class="packet-blessing">${p.blessing}</div>
    </div>`).join('');
}
function selectPacket(i){
  selectedPacket=i;
  document.querySelectorAll('.packet-card').forEach(c=>c.classList.remove('selected'));
  document.getElementById('packet-'+i).classList.add('selected');
  const p=PACKETS[i];
  document.getElementById('summary-packet-name').textContent=p.emoji+' '+p.name;
  document.getElementById('summary-amount').innerHTML=(p.amount%1===0?p.amount:p.amount.toFixed(1))+' <span style="font-size:14px;font-weight:300">å…ƒ</span>';
  document.getElementById('summary-blessing').textContent=p.blessing;
  document.getElementById('gift-custom-amount').value='';
}
function sendGift(){
  const sender=document.getElementById('gift-sender').value.trim();
  const customAmt=parseFloat(document.getElementById('gift-custom-amount').value);
  const customBlessing=document.getElementById('gift-blessing').value.trim();
  let name,amount,blessing,emoji;
  if(customAmt&&customAmt>0){amount=customAmt;name='è‡ªå®šä¹‰çº¢åŒ…';blessing=customBlessing||'ç¥æ–°å©šå¿«ä¹ï¼';emoji='ğŸ';}
  else if(selectedPacket!==null){const p=PACKETS[selectedPacket];amount=p.amount;name=p.name;blessing=p.blessing;emoji=p.emoji;}
  else{alert('è¯·é€‰æ‹©ä¸€ä¸ªçº¢åŒ…ï¼Œæˆ–å¡«å†™è‡ªå®šä¹‰é‡‘é¢ ğŸ§§');return;}
  const senderName=sender||'åŒ¿åå®¾å®¢';
  const now=new Date(); const time=now.getHours()+':'+String(now.getMinutes()).padStart(2,'0');
  const displayAmt=amount%1===0?amount:amount.toFixed(1);
  giftTotal+=amount;
  const list=document.getElementById('gift-list');
  const item=document.createElement('div'); item.className='gift-item';
  item.innerHTML=`<div class="gift-item-left"><div class="gift-item-emoji">${emoji}</div><div><div class="gift-item-sender">${senderName}</div><div class="gift-item-name">${name}</div></div></div><div><div class="gift-item-amount">Â¥${displayAmt}</div><div class="gift-item-time">${time}</div></div>`;
  list.prepend(item);
  document.getElementById('gift-total').textContent='Â¥'+giftTotal.toLocaleString();
  const msgs=document.getElementById('chat-msgs');
  const msg=document.createElement('div'); msg.className='chat-msg-item gift-msg';
  msg.innerHTML=`<strong>ğŸ§§ ${senderName}</strong> é€å‡ºã€Œ${name}ã€Â· Â¥${displayAmt}`;
  msgs.appendChild(msg); msgs.scrollTop=msgs.scrollHeight;
  selectedPacket=null;
  document.querySelectorAll('.packet-card').forEach(c=>c.classList.remove('selected'));
  document.getElementById('summary-packet-name').textContent='çº¢åŒ…å·²é€å‡º ğŸ‰';
  document.getElementById('summary-amount').innerHTML=displayAmt+' <span style="font-size:14px;font-weight:300">å…ƒ</span>';
  document.getElementById('summary-blessing').textContent=blessing;
  ['gift-sender','gift-custom-amount','gift-blessing'].forEach(id=>document.getElementById(id).value='');
  alert('ğŸ§§ çº¢åŒ…é€å‡ºæˆåŠŸï¼\n\n'+name+' Â· Â¥'+displayAmt+'\n"'+blessing+'"');
}

// MESSAGES
let selectedMood='â¤ï¸',currentFilter='all';
const INIT_MESSAGES=[
  {sender:'èˆ…å¦ˆä¸€å®¶',relation:'family',text:'çœ‹ç€ä½ ä»å°é•¿å¤§ï¼Œä»Šå¤©çœ‹åˆ°ä½ ç©¿ä¸Šå©šçº±ï¼Œèˆ…å¦ˆçœŸçš„å“­äº†ã€‚æ„¿ä½ å’Œç£Šç£Šç›¸äº²ç›¸çˆ±ï¼Œå¹¸ç¦ä¸€è¾ˆå­ï¼',mood:'ğŸ˜­',hearts:12,time:'14:35',id:1},
  {sender:'å¤§å­¦å®¤å‹å››äººç»„',relation:'friend',text:'å››å¹´ä¸€èµ·ç¡ä¸Šä¸‹é“ºï¼Œä½ ç»ˆäºå«å‡ºå»äº†ï¼å“ˆå“ˆå“ˆå“ˆï¼Œç¥ä½ ä»¬æ–°å©šå¿«ä¹ï¼Œæœ‰ç©ºå›æ¥å–ä½ çš„å–œé…’ï¼',mood:'ğŸ‰',hearts:24,time:'14:28',id:2},
  {sender:'å‰åŒäº‹å°ç‹',relation:'colleague',text:'å½“åˆåœ¨å…¬å¸çœ‹ä½ ä»¬ç›¸è¯†ï¼Œæ²¡æƒ³åˆ°çœŸçš„èµ°åˆ°äº†ä»Šå¤©ã€‚ç¥ä½ ä»¬è¶Šæ¥è¶Šå¥½ï¼',mood:'ğŸ¥‚',hearts:8,time:'14:22',id:3},
  {sender:'å¤–å©†ï¼ˆå¥³å„¿ä»£å‘ï¼‰',relation:'family',text:'å¤–å©†å¹´çºªå¤§äº†æ¥ä¸äº†ï¼Œå¿ƒé‡Œä¸€ç›´æƒ³ç€ä½ ã€‚å©·å©·ï¼Œè¦å¥½å¥½ç…§é¡¾è‡ªå·±ï¼Œæ‰¾åˆ°å¥½äººäº†å°±è¦å¥½å¥½çæƒœã€‚',mood:'â¤ï¸',hearts:31,time:'14:15',id:4},
];
let messages=[...INIT_MESSAGES],likedIds=new Set();
function renderMessages(){
  const wall=document.getElementById('messages-wall');
  const filtered=currentFilter==='all'?messages:messages.filter(m=>m.relation===currentFilter);
  wall.innerHTML=filtered.map(m=>`
    <div class="message-card from-${m.relation}">
      <div class="msg-header"><div><div class="msg-sender-name">${m.sender}</div><div class="msg-relation">${relLabel(m.relation)}</div></div><div style="font-size:20px">${m.mood}</div></div>
      <div class="msg-text">${m.text}</div>
      <div class="msg-footer"><div class="msg-time">${m.time}</div><div style="display:flex;align-items:center;gap:3px"><button class="msg-heart-btn ${likedIds.has(m.id)?'liked':''}" onclick="toggleHeart(${m.id})">â™¥</button><span class="msg-heart-count" id="hearts-${m.id}">${m.hearts}</span></div></div>
    </div>`).join('');
  document.getElementById('stat-total').textContent=messages.length;
  document.getElementById('stat-hearts').textContent=messages.reduce((s,m)=>s+m.hearts,0);
  document.getElementById('stat-family').textContent=messages.filter(m=>m.relation==='family').length;
}
function relLabel(r){return{family:'ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ å®¶äºº',friend:'ğŸ‘¯ æœ‹å‹',colleague:'ğŸ’¼ åŒäº‹/åŒå­¦',other:'ğŸŒŸ å…¶ä»–'}[r]||r}
function toggleHeart(id){
  const m=messages.find(m=>m.id===id); if(!m) return;
  if(likedIds.has(id)){likedIds.delete(id);m.hearts--;}else{likedIds.add(id);m.hearts++;}
  renderMessages();
}
function filterMsgs(type,btn){
  currentFilter=type;
  document.querySelectorAll('.filter-tab').forEach(t=>t.classList.remove('active'));
  btn.classList.add('active'); renderMessages();
}
function selectMood(btn,emoji){
  selectedMood=emoji;
  document.querySelectorAll('.mood-btn').forEach(b=>b.classList.remove('selected'));
  btn.classList.add('selected');
}
function updateCharCount(){document.getElementById('char-count').textContent=document.getElementById('msg-text').value.length}
function submitMessage(){
  const sender=document.getElementById('msg-sender').value.trim();
  const text=document.getElementById('msg-text').value.trim();
  const relation=document.getElementById('msg-relation').value;
  if(!sender){alert('è¯·å¡«å†™ä½ çš„åå­— ğŸ˜Š');return;}
  if(!text||text.length<5){alert('è¯·å†™ä¸‹è‡³å°‘5ä¸ªå­—çš„ç¥ç¦ ğŸ’Œ');return;}
  const now=new Date(); const time=now.getHours()+':'+String(now.getMinutes()).padStart(2,'0');
  messages.unshift({sender,relation,text,mood:selectedMood,hearts:0,time,id:Date.now()});
  renderMessages();
  ['msg-sender','msg-text'].forEach(id=>document.getElementById(id).value='');
  document.getElementById('char-count').textContent='0';
  alert('ğŸ’Œ ç¥ç¦å·²é€è¾¾ï¼æ–°äººä¼šåœ¨å©šç¤¼ç»“æŸåäº²è‡ªå›æ¥é˜…è¯»ã€‚');
}
let coupleViewMode=false;
function toggleCoupleView(){
  coupleViewMode=!coupleViewMode;
  const btn=document.querySelector('.couple-view-banner button');
  document.getElementById('write-section').style.display=coupleViewMode?'none':'block';
  btn.textContent=coupleViewMode?'é€€å‡ºå›çœ‹':'è¿›å…¥å›çœ‹æ¨¡å¼';
  btn.style.background=coupleViewMode?'var(--red)':'var(--gold-dark)';
}

// AI WEDDING
let idolName='',userName='',weddingStyle='romantic',idolPhotoUrl=null;
const AI_OPENERS={
  romantic:['ä»Šå¤©æ˜¯æˆ‘ä»¬æœ€å¹¸ç¦çš„ä¸€å¤©ï¼Œçœ‹åˆ°ä½ èµ°æ¥çš„é‚£ä¸€åˆ»ï¼Œæˆ‘çš„å¿ƒè·³å¾—å¾ˆå¿«ã€‚','ä½ çŸ¥é“å—ï¼Œæˆ‘ä»ç¬¬ä¸€æ¬¡çœ‹åˆ°ä½ ï¼Œå°±çŸ¥é“ä½ æ˜¯æˆ‘æƒ³å…±åº¦ä¸€ç”Ÿçš„äººã€‚'],
  classic:['åœ¨è¿™åº„ä¸¥çš„æ—¶åˆ»ï¼Œæˆ‘æ„¿æ„å°†æˆ‘çš„ä¸€ç”Ÿæ‰˜ä»˜äºä½ ï¼Œæ‰§å­ä¹‹æ‰‹ï¼Œä¸å­å•è€ã€‚','ä»Šæ—¥è‰¯è¾°ï¼Œä½ æˆ‘äºŒäººåœ¨ä¼—äººè§è¯ä¸‹ï¼Œç«‹ä¸‹æ­¤ç”Ÿç›¸å®ˆçš„èª“è¨€ã€‚'],
  playful:['å“‡ï¼Œä½ ä»Šå¤©ç¾å¾—æˆ‘éƒ½ä¸æ•¢çœ‹ä½ äº†ï¼å¿«æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æŠŠè¿™åœºå©šç¤¼æå¾—è¶…çº§çƒ­é—¹ï¼','å˜¿ï¼Œä½ çŸ¥é“å—ï¼Ÿæˆ‘ç ”ç©¶äº†å¾ˆä¹…æ‰æƒ³å¥½è¦è¯´ä»€ä¹ˆï¼Œç»“æœè§åˆ°ä½ å…¨å¿˜äº†ï¼Œå› ä¸ºä½ å¤ªå¥½çœ‹äº†ï¼'],
  poetic:['å¦‚æ™¨æ˜Ÿå®ˆå€™é»æ˜ï¼Œå¦‚æœˆå…‰å€¾æ´’æ¹–é¢ï¼Œä½ æ˜¯æˆ‘ç”Ÿå‘½ä¸­æœ€ç¾çš„è¯—è¡Œã€‚','åƒå±±ä¸‡æ°´çš†å¯è¿‡ï¼Œå”¯ä½ æ˜¯æˆ‘å½’é€”ã€‚ä»Šæ—¥æ‰§æ‰‹ï¼Œæ„¿ä¸å›å…±èµ´å²æœˆé•¿æ²³ã€‚']
};
const AI_RESPONSES_ROMANTIC=[
  'ä½ è¯´å¾—å¯¹ï¼Œè¿™ä¸€åˆ»æˆ‘ä¹Ÿæ„Ÿè§‰æ—¶é—´å¥½åƒé™æ­¢äº†ã€‚æˆ‘æ„¿æ„ç”¨ä¸€ç”Ÿæ¥çæƒœä½ ã€‚',
  'èƒ½é‡è§ä½ ï¼Œæ˜¯æˆ‘è¿™è¾ˆå­æœ€å¤§çš„å¹¸è¿ã€‚ä»Šå¤©èµ·ï¼Œè®©æˆ‘æ¥ä¿æŠ¤ä½ å¥½å—ï¼Ÿ',
  'å¬åˆ°ä½ è¯´è¿™äº›ï¼Œæˆ‘çœ¼çœ¶éƒ½æ¹¿äº†ã€‚æˆ‘å‘èª“ï¼Œæˆ‘ä¼šè®©ä½ æ¯å¤©éƒ½è¿‡å¾—å¹¸ç¦ã€‚',
  'ä½ ç¬‘èµ·æ¥çš„æ ·å­çœŸçš„å¤ªç¾äº†ã€‚æˆ‘æ„¿æ„åšè®©ä½ ç¬‘çš„é‚£ä¸ªäººï¼Œä¸€è¾ˆå­ã€‚',
  'æˆ‘æƒ³å’Œä½ ä¸€èµ·çœ‹éä¸–ç•Œçš„é£æ™¯ï¼Œåƒéæ‰€æœ‰å¥½åƒçš„ï¼Œç»å†æ‰€æœ‰çš„å–œæ€’å“€ä¹ã€‚',
];
const AI_RESPONSES_PLAYFUL=[
  'å“ˆå“ˆï¼Œä½ ä¹Ÿè¿™ä¹ˆæƒ³ï¼é‚£æˆ‘ä»¬ä»Šæ™šè¦æŠŠå©šå®´æå¾—è¶…çº§çƒ­é—¹ï¼Œè®©æ‰€æœ‰äººéƒ½è®°ä½æˆ‘ä»¬ï¼',
  'å¥½ï¼çº¦å®šå¥½äº†ï¼Œä»¥åæ¯å¹´ç»“å©šçºªå¿µæ—¥æˆ‘éƒ½è¦ç»™ä½ ä¸€ä¸ªå¤§æƒŠå–œï¼',
  'ä½ è¿™æ ·è¯´è®©æˆ‘è¶…çº§å¼€å¿ƒï¼æ¥ï¼Œç»™æˆ‘ä¸€ä¸ªæ‹¥æŠ±ï¼Œä¸å¯¹ï¼Œæ˜¯ä¸€ä¸ªå¤§å¤§çš„æ‹¥æŠ±ï¼',
];

function handleIdolPhoto(input){
  const file=input.files[0]; if(!file) return;
  const reader=new FileReader();
  reader.onload=e=>{
    idolPhotoUrl=e.target.result;
    document.getElementById('preview-img').src=idolPhotoUrl;
    document.getElementById('photo-preview').style.display='block';
  };
  reader.readAsDataURL(file);
}

function startAIWedding(){
  idolName=document.getElementById('idol-name').value.trim();
  userName=document.getElementById('user-name').value.trim();
  weddingStyle=document.getElementById('wedding-style').value.split(' ')[0].toLowerCase();
  if(!idolName){alert('è¯·å¡«å†™å¶åƒçš„åå­— ğŸ’•');return;}
  if(!userName){alert('è¯·å¡«å†™ä½ çš„åå­— ğŸ˜Š');return;}

  // Setup display
  document.getElementById('idol-display-name').textContent=idolName;
  document.getElementById('user-display-name').textContent=userName;
  document.getElementById('idol-typing-name').textContent=idolName;
  document.getElementById('ai-inv-names').innerHTML=userName+' &amp; '+idolName;

  if(idolPhotoUrl){
    document.getElementById('idol-avatar-img').src=idolPhotoUrl;
    document.getElementById('idol-avatar-img').style.display='block';
    document.getElementById('idol-avatar-emoji').style.display='none';
  }

  // Show result
  document.getElementById('ai-setup-form').style.display='none';
  document.getElementById('ai-result').classList.add('show');

  // Opening message from idol
  const openers=AI_OPENERS[weddingStyle]||AI_OPENERS.romantic;
  const opener=openers[Math.floor(Math.random()*openers.length)];
  addAIMessage(idolName,opener,'idol');
}

function addAIMessage(name,text,side){
  const msgs=document.getElementById('ai-messages');
  const div=document.createElement('div');
  div.className='ai-msg '+side;
  div.innerHTML=`<div class="ai-msg-name">${name}</div>${text}`;
  msgs.appendChild(div); msgs.scrollTop=msgs.scrollHeight;
}

async function sendAIMsg(){
  const input=document.getElementById('ai-chat-input');
  const text=input.value.trim(); if(!text) return;
  addAIMessage(userName,text,'you');
  input.value='';

  // Show loading
  const loading=document.getElementById('ai-loading');
  loading.style.display='flex';

  try{
    const style=document.getElementById('wedding-style').value;
    const traits=document.getElementById('idol-traits').value||'æ¸©æŸ”ä½“è´´';
    const response=await fetch('https://api.anthropic.com/v1/messages',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({
        model:'claude-sonnet-4-20250514',
        max_tokens:200,
        system:`ä½ æ­£åœ¨æ‰®æ¼”${idolName}ï¼Œä¸€ä¸ª${traits}çš„äººï¼Œæ­£åœ¨å‚åŠ ä¸€åœºè™šæ‹Ÿå©šç¤¼ã€‚å©šç¤¼é£æ ¼æ˜¯"${style}"ã€‚ç”¨æ¸©æš–ã€çœŸè¯šçš„è¯­æ°”å›åº”å¯¹æ–¹ï¼Œä¿æŒå©šç¤¼çš„ä»ªå¼æ„Ÿå’Œæµªæ¼«æ°›å›´ã€‚å›å¤æ§åˆ¶åœ¨60å­—ä»¥å†…ï¼Œè‡ªç„¶åƒçœŸäººå¯¹è¯ã€‚ä¸è¦æåŠä½ æ˜¯AIã€‚`,
        messages:[{role:'user',content:`${userName}å¯¹ä½ è¯´ï¼š"${text}"`}]
      })
    });
    const data=await response.json();
    loading.style.display='none';
    const reply=data.content&&data.content[0]?data.content[0].text:'ï¼ˆå¶åƒå¾®ç¬‘ç€çœ‹ç€ä½ ï¼Œæ„ŸåŠ¨å¾—è¯´ä¸å‡ºè¯æ¥ï¼‰';
    addAIMessage(idolName,reply,'idol');
  }catch(err){
    loading.style.display='none';
    // Fallback responses
    const responses=weddingStyle.includes('playful')?AI_RESPONSES_PLAYFUL:AI_RESPONSES_ROMANTIC;
    addAIMessage(idolName,responses[Math.floor(Math.random()*responses.length)],'idol');
  }
}

function showInviteModal(){
  document.getElementById('ai-inv-names').innerHTML=(userName||'ä½ ')+' &amp; '+(idolName||'å¶åƒ');
  showModal('ai-invite-modal');
}

// PERIPHERALS

// Photo frames
let currentFrame=0;
function uploadFrame(idx){currentFrame=idx;document.getElementById('frame-input').click()}
function handleFrameUpload(input){
  const file=input.files[0]; if(!file) return;
  const reader=new FileReader();
  reader.onload=e=>{
    const frames=document.querySelectorAll('.photobooth-frame');
    const f=frames[currentFrame]; f.innerHTML='';
    const img=document.createElement('img'); img.src=e.target.result;
    img.style.cssText='width:100%;height:100%;object-fit:cover';
    f.appendChild(img);
  };
  reader.readAsDataURL(file);
  input.value='';
}

// Album
function handleAlbumUpload(input){
  const grid=document.getElementById('album-grid');
  Array.from(input.files).forEach(file=>{
    const reader=new FileReader();
    reader.onload=e=>{
      const div=document.createElement('div');
      div.style.cssText='aspect-ratio:1;border-radius:4px;overflow:hidden';
      const img=document.createElement('img');
      img.src=e.target.result; img.style.cssText='width:100%;height:100%;object-fit:cover';
      div.appendChild(img); grid.appendChild(div);
    };
    reader.readAsDataURL(file);
  });
}

// Invitation
function updateInvite(){
  const p1=document.getElementById('inv-p1').value||'æ–°å¨˜';
  const p2=document.getElementById('inv-p2').value||'æ–°éƒ';
  const date=document.getElementById('inv-date').value;
  const venue=document.getElementById('inv-venue').value||'å¡«å†™å©šç¤¼åœ°ç‚¹';
  document.getElementById('inv-names-display').innerHTML=p1+' &amp; '+p2;
  document.getElementById('inv-date-display').textContent=date?new Date(date).toLocaleDateString('zh-CN',{year:'numeric',month:'long',day:'numeric'}):'é€‰æ‹©å©šç¤¼æ—¥æœŸ';
  document.getElementById('inv-venue-display').textContent=venue;
}

// Certificate
function updateCert(){
  const p1=document.getElementById('cert-p1').value||'æ–°å¨˜';
  const p2=document.getElementById('cert-p2').value||'æ–°éƒ';
  document.getElementById('cert-text-display').innerHTML=`å…¹è¯æ˜<br/><strong style="font-size:16px;font-family:'Noto Serif SC',serif">${p1}</strong> ä¸ <strong style="font-size:16px;font-family:'Noto Serif SC',serif">${p2}</strong><br/>è‡ªæ„¿ç»“ä¸ºå¤«å¦»<br/>æ„¿ç™½å¤´å•è€ï¼Œæ°¸ç»“åŒå¿ƒ<br/><br/><span style="font-size:11px;color:var(--muted)">VOW å› Â· è§è¯ä½ ä»¬çš„çˆ±æƒ…</span>`;
}

// Cover
function updateCover(){
  const p1=document.getElementById('cov-p1').value||'æ–°å¨˜';
  const p2=document.getElementById('cov-p2').value||'æ–°éƒ';
  document.getElementById('cov-names').innerHTML=p1+' &amp; '+p2;
}

// Countdown
let cdInterval=null;
function updateCountdown(){
  const dateVal=document.getElementById('cd-date').value;
  if(!dateVal) return;
  if(cdInterval) clearInterval(cdInterval);
  function tick(){
    const now=new Date(); const target=new Date(dateVal+'T00:00:00');
    const diff=target-now;
    if(diff<=0){
      ['cd-days','cd-hours','cd-mins','cd-secs'].forEach(id=>document.getElementById(id).textContent='00');
      return;
    }
    const d=Math.floor(diff/86400000);
    const h=Math.floor((diff%86400000)/3600000);
    const m=Math.floor((diff%3600000)/60000);
    const s=Math.floor((diff%60000)/1000);
    document.getElementById('cd-days').textContent=String(d).padStart(2,'0');
    document.getElementById('cd-hours').textContent=String(h).padStart(2,'0');
    document.getElementById('cd-mins').textContent=String(m).padStart(2,'0');
    document.getElementById('cd-secs').textContent=String(s).padStart(2,'0');
  }
  tick(); cdInterval=setInterval(tick,1000);
}

// Guest book
function addGuestSign(){
  const name=document.getElementById('gb-name').value.trim();
  const msg=document.getElementById('gb-msg').value.trim();
  if(!name) return;
  const list=document.getElementById('guestbook-list');
  const div=document.createElement('div');
  div.style.cssText='background:var(--cream);padding:8px 12px;border-radius:20px;font-size:12px;color:var(--charcoal)';
  div.textContent=(name)+(msg?' Â· '+msg:'');
  list.appendChild(div);
  document.getElementById('gb-name').value=''; document.getElementById('gb-msg').value='';
}

// Vow generator
async function generateVow(){
  const meet=document.getElementById('vow-meet').value.trim();
  const touch=document.getElementById('vow-touch').value.trim();
  const style=document.getElementById('vow-style').value;
  const result=document.getElementById('vow-result');
  result.style.display='block'; result.textContent='AI æ­£åœ¨ä¸ºä½ åˆ›ä½œä¸“å±èª“è¯...';
  try{
    const res=await fetch('https://api.anthropic.com/v1/messages',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({
        model:'claude-sonnet-4-20250514',
        max_tokens:300,
        messages:[{role:'user',content:`è¯·ä¸ºä¸€å¯¹æ–°äººç”Ÿæˆä¸€æ®µå©šç¤¼èª“è¯ã€‚
ç›¸è¯†ç»å†ï¼š${meet||'ç¾å¥½çš„ç¼˜åˆ†è®©æˆ‘ä»¬ç›¸é‡'}
æœ€æ‰“åŠ¨ä½ çš„ä¸€ç‚¹ï¼š${touch||'ä»–/å¥¹çš„æ¸©æŸ”ä¸çœŸè¯š'}
é£æ ¼è¦æ±‚ï¼š${style}
è¦æ±‚ï¼š150å­—ä»¥å†…ï¼ŒçœŸè¯šæ„Ÿäººï¼Œé€‚åˆåœ¨å©šç¤¼ç°åœºæœ—è¯»ã€‚ç›´æ¥è¾“å‡ºèª“è¯å†…å®¹ï¼Œä¸éœ€è¦æ ‡é¢˜ã€‚`}]
      })
    });
    const data=await res.json();
    result.textContent=data.content&&data.content[0]?data.content[0].text:'åœ¨é‡è§ä½ ä¹‹å‰ï¼Œæˆ‘ä¸çŸ¥é“çˆ±æƒ…å¯ä»¥è¿™ä¹ˆç¾å¥½ã€‚ä½ çš„ç¬‘å®¹æ˜¯æˆ‘æ¯å¤©æ¸…æ™¨é†’æ¥æœ€æƒ³è§åˆ°çš„ç”»é¢ï¼Œä½ çš„å£°éŸ³æ˜¯æˆ‘æœ€åŠ¨å¬çš„æ—‹å¾‹ã€‚ä»Šå¤©ï¼Œæˆ‘æ„¿æ„åœ¨æ‰€æœ‰äººé¢å‰è®¸ä¸‹æ‰¿è¯ºï¼šæˆ‘ä¼šçæƒœä½ ï¼Œé™ªä¼´ä½ ï¼Œåœ¨ä½ å¤±è½æ—¶ç»™ä½ åŠ›é‡ï¼Œåœ¨ä½ æ¬¢ç¬‘æ—¶ä¸ä½ åŒä¹ã€‚ä½™ç”Ÿå¾ˆé•¿ï¼Œæˆ‘åªæƒ³å’Œä½ ä¸€èµ·æ…¢æ…¢èµ°ã€‚';
  }catch(e){
    result.textContent='åœ¨é‡è§ä½ ä¹‹å‰ï¼Œæˆ‘ä¸çŸ¥é“çˆ±æƒ…å¯ä»¥è¿™ä¹ˆç¾å¥½ã€‚ä½ çš„ç¬‘å®¹æ˜¯æˆ‘æ¯å¤©æ¸…æ™¨é†’æ¥æœ€æƒ³è§åˆ°çš„ç”»é¢ã€‚ä»Šå¤©ï¼Œæˆ‘æ„¿æ„åœ¨æ‰€æœ‰äººé¢å‰è®¸ä¸‹æ‰¿è¯ºï¼šä½™ç”Ÿå¾ˆé•¿ï¼Œæˆ‘åªæƒ³å’Œä½ ä¸€èµ·æ…¢æ…¢èµ°ï¼Œæ‰§å­ä¹‹æ‰‹ï¼Œä¸å­å•è€ã€‚';
  }
}

// INIT
renderPackets();
renderMessages();
</script>
</body>
</html>
